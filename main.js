!function(){"use strict";const e={name:document.querySelector(".profile__name"),about:document.querySelector(".profile__description"),avatar:document.querySelector(".profile__avatar-image"),_id:"203ef5b29b8491c8911cf220"},t={inputSelector:".modal__input",submitButtonSelector:".modal__save",inactiveButtonClass:"modal__save_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},r=document.querySelector("#profile-edit-modal"),s=document.querySelector("#add-card-modal"),i=document.querySelector("#profile-picture-modal"),n=r.querySelector(".modal__form"),a=s.querySelector(".modal__form"),o=i.querySelector(".modal__form"),l=document.querySelector("#profile-edit-button"),d=document.querySelector("#add-card-button"),c=s.querySelector("#card-form"),h=document.querySelector("#modal-name"),_=document.querySelector("#modal-description"),u=(document.querySelector("#modal-title"),document.querySelector("#modal-link"),document.querySelector("#modal-image"),document.querySelector("#modal-image-title"),document.querySelector("#profile-avatar-button")),m=document.querySelector("#modal-picture"),p=document.querySelector(".profile__avatar-image");document.querySelector(".card__like-button"),document.querySelector(".card__delete-button"),document.querySelector(".modal__confirm");class v{constructor(e,t,r,s,i){let{name:n,link:a,isLiked:o,_id:l}=e;this._name=n,this._link=a,this._isLiked=o,this.id=l,this._cardSelector=t,this._handleImageClick=r,this._handleDeleteBtn=s,this._handleLikeBtn=i,this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}_setEventListeners(){this._cardLikeButton.addEventListener("click",(()=>{this._handleLikeBtn(this)})),this._cardDeleteBtn.addEventListener("click",(()=>{this._handleDeleteBtn(this)})),this._cardImageEl.addEventListener("click",(()=>{this._handleImageClick(this)}))}removeCard(){this._cardElement.remove()}getCardId(){return this.id}getLikedStatus(){return this._isLiked}handleIsLiked(e){this._isLiked=e,this._renderisLiked()}_renderisLiked(){this._isLiked?this._cardLikeButton.classList.add("card__like-button_active"):this._cardLikeButton.classList.remove("card__like-button_active")}getView(){return this._cardImageEl=this._cardElement.querySelector(".card__image"),this._cardTitleEl=this._cardElement.querySelector(".card__title"),this._cardLikeButton=this._cardElement.querySelector(".card__like-button"),this._cardDeleteBtn=this._cardElement.querySelector(".card__delete-button"),this._cardImageEl.src=this._link,this._cardImageEl.alt=this._name,this._cardTitleEl.textContent=this._name,this._setEventListeners(),this._renderisLiked(),this._cardElement}}class E{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t,this._inputEls=Array.from(this._formElement.querySelectorAll(this._inputSelector))}disableBtn(){this._submitBtn.classList.add(this._inactiveButtonClass),this._submitBtn.disabled=!0}_enableBtn(){this._submitBtn.classList.remove(this._inactiveButtonClass),this._submitBtn.disabled=!1}_showInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_hasInvalidInput(){return!this._inputEls.every((e=>e.validity.valid))}_toggleButtonState(){this._hasInvalidInput(this._inputEls)?this.disableBtn(this._submitBtn,this._inactiveButtonClass):this._enableBtn(this._submitBtn,this._inactiveButtonClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_setEventListeners(){this._submitBtn=this._formElement.querySelector(this._submitButtonSelector),this._inputEls.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault(),this.disableBtn()})),this._setEventListeners()}resetValidation(){this._inputEls.forEach((e=>{this._hideInputError(e)})),this._toggleButtonState(),this._formElement.reset()}}class f{constructor(e,t){let{items:r,renderer:s}=e;this._items=r,this._renderer=s,this._container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}class b{constructor(e){this._popupElement=document.querySelector(e),this._closeBtn=this._popupElement.querySelector(".modal__exit"),this._modalBackground=this._popupElement.querySelector(".modal__background")}open(){document.addEventListener("keydown",this._handleEscapeClose),this._popupElement.classList.add("modal_opened")}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscapeClose)}_handleEscapeClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._closeBtn.addEventListener("click",(()=>{this.close()})),this._modalBackground.addEventListener("click",(()=>{this.close()}))}}class L extends b{constructor(e,t){super(e),this._handleFormSubmit=t,this._form=this._popupElement.querySelector(".modal__form"),this._submitBtn=this._popupElement.querySelector(".modal__save"),this._inputsArr=Array.from(this._form.querySelectorAll(".modal__input"))}_getInputValues(){const e={};return this._inputsArr.forEach((t=>{e[t.name]=t.value})),e}isLoading(e){this._submitBtn.textContent=e?"Saving...":"Save"}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}}let S;const g=new class{constructor(e){let{baseUrl:t,headers:r}=e;this._baseUrl=t,this._headers=r,this._authorization=r.authorization,this._contentType=r.contentType}_handleServerResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getAppInfo(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._handleServerResponse).catch((e=>console.error(`Api error getting cards, ${e}`)))}addCard(e){let{name:t,link:r}=e;return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:r})}).then(this._handleServerResponse).catch((e=>console.error(e)))}removeCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._handleServerResponse).catch((e=>console.error(e)))}setCardLiked(e,t){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:t?"DELETE":"PUT",headers:this._headers}).then(this._handleServerResponse).catch((e=>console.error(e)))}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._handleServerResponse).catch((e=>console.error(e)))}setUserInfo(e){let{name:t,about:r,avatar:s,_id:i}=e;return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:r,avatar:s,_id:i})}).then(this._handleServerResponse).catch((e=>console.error(`Error setting api user info. ${e}`)))}changeAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.picture})}).then(this._checkResponse).catch((e=>console.error(e)))}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"40adfe4e-c0e4-40a1-9506-b555db893f72","Content-Type":"application/json"}});g.getInitialCards().then((e=>{S=new f({items:e,renderer:e=>{const t=y(e);S.addItem(t)}},".gallery__cards"),S.renderItems()})).catch((e=>console.error(`Error setting up card section, ${e}`))),g.getUserInfo().then((e=>{k.setUserInfo({name:e.name,about:e.about,avatar:e.avatar})})).catch((e=>console.error(`Error loading profile info. ${e}`)));const y=e=>new v({name:e.name,link:e.link,isLiked:e.isLiked,_id:e._id},"#card-template",D,T,V).getView(),k=new class{constructor(e){let{name:t,about:r,avatar:s,_id:i}=e;this._name=t,this._about=r,this._avatar=s,this.id=i}getUserInfo(){return{name:this._name.textContent,about:this._about.textContent,avatar:this._avatar.src}}setUserInfo(e){let{name:t,about:r,avatar:s}=e;t&&(this._name.textContent=t),r&&(this._about.textContent=r),s&&(this._avatar.src=s)}}(e),C=new L("#profile-picture-modal",(function(e){C.isLoading(!0),g.changeAvatar(e).then((()=>{k.setUserInfo({avatar:e.picture}),x.disableBtn(),C.close()})).catch((e=>{console.error(e)})).finally((()=>{C.isLoading(!1)}))})),B=new L("#profile-edit-modal",(function(e){console.log(e),B.isLoading(!0),g.setUserInfo(e).then((()=>{k.setUserInfo({name:e.name,about:e.about}),U.disableBtn(),B.close()})).catch((e=>{console.error(`Error handling profile form submit. ${e}`)})).finally((()=>{B.isLoading(!1)}))})),I=new L("#add-card-modal",(function(e){I.isLoading(!0),g.addCard(e).then((e=>{const{_id:t,name:r,link:s,isLiked:i}=e,n={_id:t,name:r,link:s,isLiked:i};S.addItem(y(n)),$.disableBtn(),c.reset(),I.close()})).catch((e=>{console.error(`Error: failed to add card. ${e}`)})).finally((()=>{I.isLoading(!1)}))})),q=new class extends b{constructor(e){super(e),this._form=this._popupElement.querySelector(".modal__form"),this._confirmBtn=this._popupElement.querySelector(".modal__confirm"),this._handleDeleteConfirm=null}handleConfirm(e){this._handleDeleteConfirm=e}viewLoading(e){this._confirmBtn.textContent=e?"Deleting...":"Yes"}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),"function"==typeof this._handleDeleteConfirm&&this._handleDeleteConfirm()}))}}("#confirm-modal"),w=new class extends b{constructor(e){super(e),this._previewImage=this._popupElement.querySelector("#modal-image"),this._previewImageTitle=this._popupElement.querySelector("#modal-image-title")}open(e){let{name:t,link:r}=e;this._previewImage.alt=t,this._previewImageTitle.textContent=t,this._previewImage.src=r,super.open()}}("#image-modal"),U=new E(t,n),$=new E(t,a),x=new E(t,o);function D(e){w.open({name:e._name,link:e._link})}function V(e){g.setCardLiked(e.id,e.getLikedStatus()).then((t=>{e.handleIsLiked(t.isLiked)})).catch((e=>{console.error(e)}))}function T(e){q.open(),q.handleConfirm((()=>{q.viewLoading(!0),g.removeCard(e.id).then((()=>{e.removeCard(),q.viewLoading(!1),q.close()})).catch((e=>{console.error(`Failed to delete card. ${e}`),q.viewLoading(!1)}))}))}w.setEventListeners(),B.setEventListeners(),I.setEventListeners(),C.setEventListeners(),q.setEventListeners(),U.enableValidation(),$.enableValidation(),x.enableValidation(),u.addEventListener("click",(()=>{x.resetValidation(),m.value=p.src,C.open()})),l.addEventListener("click",(()=>{U.resetValidation();const{name:e,about:t}=k.getUserInfo();h.value=e,_.value=t,B.open()})),d.addEventListener("click",(()=>{$.resetValidation(),I.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RyxNQUFRakksRUFDaEN1TCxFQUFpQnJFLE1BQU0sSUFHekJsRyxFQUFXOEIsaUJBQWlCLFNBQVMsS0FDbkMrSSxFQUFpQi9GLGtCQUNqQjRGLEVBQWlCeEUsTUFBTSxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXJvdW5kdGhldXMvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cHdpdGhGb3JtLmpzIiwid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzIiwid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXB3aXRoSW1hZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGNhcmREYXRhID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QveW9zZW1pdGUuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFrZS1sb3Vpc2UuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvYmFsZC1tb3VudGFpbnMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYXRlbWFyLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhZ28uanBnXCIsXHJcbiAgfSxcclxuXTtcclxuXHJcbi8vIGV4cG9ydCBjb25zdCBjYXJkU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9fY2FyZHNcIik7XHJcblxyXG5leHBvcnQgY29uc3Qgc2VsZWN0b3JzID0ge1xyXG4gIGNhcmRTZWN0aW9uOiBcIi5nYWxsZXJ5X19jYXJkc1wiLFxyXG4gIGluZm9TZWN0aW9uOiBcIi5wcm9maWxlXCIsXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcHJvZmlsZUluZm8gPSB7XHJcbiAgbmFtZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpLFxyXG4gIGFib3V0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpLFxyXG4gIGF2YXRhcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXItaW1hZ2VcIiksXHJcbiAgX2lkOiBcIjIwM2VmNWIyOWI4NDkxYzg5MTFjZjIyMFwiLFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25TZXR0aW5ncyA9IHtcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3NhdmVcIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19zYXZlX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxyXG59O1xyXG5cclxuY29uc3QgcHJvZmlsZUVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIpO1xyXG5jb25zdCBjYXJkQWRkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLW1vZGFsXCIpO1xyXG5jb25zdCBwcm9maWxlUGljdHVyZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXBpY3R1cmUtbW9kYWxcIik7XHJcblxyXG5leHBvcnQgY29uc3QgZWRpdEZvcm1FbCA9IHByb2ZpbGVFZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuZXhwb3J0IGNvbnN0IGFkZEZvcm1FbCA9IGNhcmRBZGRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG5leHBvcnQgY29uc3QgcGljdHVyZUZvcm1FbCA9IHByb2ZpbGVQaWN0dXJlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LWJ1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRBZGRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLWJ1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRBZGRGb3JtID0gY2FyZEFkZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1mb3JtXCIpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtbmFtZVwiKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbklucHV0ID1cclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLWRlc2NyaXB0aW9uXCIpO1xyXG5leHBvcnQgY29uc3QgY2FyZFRpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLXRpdGxlXCIpO1xyXG5leHBvcnQgY29uc3QgY2FyZExpbmtJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtbGlua1wiKTtcclxuZXhwb3J0IGNvbnN0IHByZXZpZXdJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtaW1hZ2VcIik7XHJcbmV4cG9ydCBjb25zdCBwcmV2aWV3SW1hZ2VUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtaW1hZ2UtdGl0bGVcIik7XHJcbmV4cG9ydCBjb25zdCBwaWN0dXJlRWRpdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1hdmF0YXItYnV0dG9uXCIpO1xyXG5leHBvcnQgY29uc3QgcGljdHVyZUxpbmtJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtcGljdHVyZVwiKTtcclxuZXhwb3J0IGNvbnN0IHBpY3R1cmVFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyLWltYWdlXCIpO1xyXG5leHBvcnQgY29uc3QgY2FyZExpa2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xyXG5leHBvcnQgY29uc3QgY2FyZERlbGV0ZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb25maXJtTW9kYWxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jb25maXJtXCIpO1xyXG4iLCJpbXBvcnQgUG9wdXB3aXRoRm9ybSBmcm9tIFwiLi9Qb3B1cHdpdGhGb3JtXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHsgbmFtZSwgbGluaywgaXNMaWtlZCwgX2lkIH0sXHJcbiAgICBjYXJkU2VsZWN0b3IsXHJcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxyXG4gICAgaGFuZGxlRGVsZXRlQnRuLFxyXG4gICAgaGFuZGxlTGlrZUJ0blxyXG4gICkge1xyXG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gbGluaztcclxuICAgIHRoaXMuX2lzTGlrZWQgPSBpc0xpa2VkO1xyXG4gICAgdGhpcy5pZCA9IF9pZDtcclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQnRuID0gaGFuZGxlRGVsZXRlQnRuO1xyXG4gICAgdGhpcy5faGFuZGxlTGlrZUJ0biA9IGhhbmRsZUxpa2VCdG47XHJcblxyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fY2FyZExpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlTGlrZUJ0bih0aGlzKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2NhcmREZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQnRuKHRoaXMpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh0aGlzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q2FyZElkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaWQ7XHJcbiAgfVxyXG5cclxuICBnZXRMaWtlZFN0YXR1cygpIHtcclxuICAgIHJldHVybiB0aGlzLl9pc0xpa2VkO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlSXNMaWtlZChpc0xpa2VkKSB7XHJcbiAgICB0aGlzLl9pc0xpa2VkID0gaXNMaWtlZDtcclxuICAgIHRoaXMuX3JlbmRlcmlzTGlrZWQoKTtcclxuICB9XHJcblxyXG4gIF9yZW5kZXJpc0xpa2VkKCkge1xyXG4gICAgaWYgKHRoaXMuX2lzTGlrZWQpIHtcclxuICAgICAgdGhpcy5fY2FyZExpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2NhcmRMaWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRWaWV3KCkge1xyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlRWwgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xyXG4gICAgdGhpcy5fY2FyZExpa2VCdXR0b24gPVxyXG4gICAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fY2FyZERlbGV0ZUJ0biA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIlxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2NhcmRUaXRsZUVsLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fcmVuZGVyaXNMaWtlZCgpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGNvbmZpZy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuX2lucHV0RWxzID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGRpc2FibGVCdG4oKSB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdG4uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ0bi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgfVxyXG5cclxuICBfZW5hYmxlQnRuKCkge1xyXG4gICAgdGhpcy5fc3VibWl0QnRuLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdG4uZGlzYWJsZWQgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsKSB7XHJcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAjJHtpbnB1dEVsLmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gaW5wdXRFbC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbCkge1xyXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgIyR7aW5wdXRFbC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiAhdGhpcy5faW5wdXRFbHMuZXZlcnkoKGlucHV0RWwpID0+IGlucHV0RWwudmFsaWRpdHkudmFsaWQpO1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCh0aGlzLl9pbnB1dEVscykpIHtcclxuICAgICAgdGhpcy5kaXNhYmxlQnRuKHRoaXMuX3N1Ym1pdEJ0biwgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuX2VuYWJsZUJ0bih0aGlzLl9zdWJtaXRCdG4sIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKSB7XHJcbiAgICBpZiAoIWlucHV0RWwudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3N1Ym1pdEJ0biA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgICApO1xyXG4gICAgdGhpcy5faW5wdXRFbHMuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xyXG4gICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuZGlzYWJsZUJ0bigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2lucHV0RWxzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQucmVzZXQoKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fY2xvc2VCdG4gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZXhpdFwiKTtcclxuICAgIHRoaXMuX21vZGFsQmFja2dyb3VuZCA9XHJcbiAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19iYWNrZ3JvdW5kXCIpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY2FwZUNsb3NlKTtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY2FwZUNsb3NlKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NhcGVDbG9zZSA9IChlKSA9PiB7XHJcbiAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fbW9kYWxCYWNrZ3JvdW5kLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwd2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ0biA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zYXZlXCIpO1xyXG4gICAgdGhpcy5faW5wdXRzQXJyID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpKTtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XHJcblxyXG4gICAgdGhpcy5faW5wdXRzQXJyLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBpbnB1dFZhbHVlcztcclxuICB9XHJcblxyXG4gIGlzTG9hZGluZyhpc0xvYWRpbmcpIHtcclxuICAgIGlmIChpc0xvYWRpbmcpIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnRuLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ0bi50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiLy8gSU1QT1JUUyAvL1xyXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5cclxuaW1wb3J0IHtcclxuICBjYXJkRGF0YSxcclxuICBzZWxlY3RvcnMsXHJcbiAgZWRpdEZvcm1FbCxcclxuICBhZGRGb3JtRWwsXHJcbiAgcGljdHVyZUZvcm1FbCxcclxuICB2YWxpZGF0aW9uU2V0dGluZ3MsXHJcbiAgcHJvZmlsZUVkaXRCdG4sXHJcbiAgY2FyZEFkZEJ0bixcclxuICBwcm9maWxlSW5mbyxcclxuICBjYXJkQWRkRm9ybSxcclxuICBwcm9maWxlTmFtZUlucHV0LFxyXG4gIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0LFxyXG4gIHBpY3R1cmVFZGl0QnRuLFxyXG4gIHBpY3R1cmVMaW5rSW5wdXQsXHJcbiAgcGljdHVyZUVsLFxyXG4gIGNhcmRMaWtlQnRuLFxyXG4gIGNhcmREZWxldGVCdG4sXHJcbiAgY29uZmlybU1vZGFsQnRuLFxyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZFwiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb25cIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwd2l0aEltYWdlXCI7XHJcbmltcG9ydCBQb3B1cHdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwd2l0aEZvcm1cIjtcclxuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybVwiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm9cIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGlcIjtcclxuXHJcbmxldCBjYXJkU2VjdGlvbjtcclxuXHJcbi8vIEFQSSAvL1xyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCI0MGFkZmU0ZS1jMGU0LTQwYTEtOTUwNi1iNTU1ZGI4OTNmNzJcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuYXBpXHJcbiAgLmdldEluaXRpYWxDYXJkcygpXHJcbiAgLnRoZW4oKGNhcmRzKSA9PiB7XHJcbiAgICBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxyXG4gICAgICB7XHJcbiAgICAgICAgaXRlbXM6IGNhcmRzLFxyXG4gICAgICAgIHJlbmRlcmVyOiAoY2FyZERhdGEpID0+IHtcclxuICAgICAgICAgIGNvbnN0IGluaXRpYWxDYXJkID0gY3JlYXRlQ2FyZChjYXJkRGF0YSk7XHJcbiAgICAgICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGluaXRpYWxDYXJkKTtcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICBcIi5nYWxsZXJ5X19jYXJkc1wiXHJcbiAgICApO1xyXG4gICAgY2FyZFNlY3Rpb24ucmVuZGVySXRlbXMoKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGBFcnJvciBzZXR0aW5nIHVwIGNhcmQgc2VjdGlvbiwgJHtlcnJ9YCkpO1xyXG5cclxuYXBpXHJcbiAgLmdldFVzZXJJbmZvKClcclxuICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgcHJvZmlsZUluZm9DbGFzcy5zZXRVc2VySW5mbyh7XHJcbiAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgYWJvdXQ6IGRhdGEuYWJvdXQsXHJcbiAgICAgIGF2YXRhcjogZGF0YS5hdmF0YXIsXHJcbiAgICB9KTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGBFcnJvciBsb2FkaW5nIHByb2ZpbGUgaW5mby4gJHtlcnJ9YCkpO1xyXG5cclxuY29uc3QgY3JlYXRlQ2FyZCA9IChjYXJkRGF0YSkgPT4ge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgIHtcclxuICAgICAgbmFtZTogY2FyZERhdGEubmFtZSxcclxuICAgICAgbGluazogY2FyZERhdGEubGluayxcclxuICAgICAgaXNMaWtlZDogY2FyZERhdGEuaXNMaWtlZCxcclxuICAgICAgX2lkOiBjYXJkRGF0YS5faWQsXHJcbiAgICB9LFxyXG4gICAgXCIjY2FyZC10ZW1wbGF0ZVwiLFxyXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcclxuICAgIGhhbmRsZURlbGV0ZUJ0bixcclxuICAgIGhhbmRsZUxpa2VCdG5cclxuICApO1xyXG4gIHJldHVybiBjYXJkLmdldFZpZXcoKTtcclxufTtcclxuXHJcbi8vIENMQVNTRVMgLy9cclxuXHJcbmNvbnN0IHByb2ZpbGVJbmZvQ2xhc3MgPSBuZXcgVXNlckluZm8ocHJvZmlsZUluZm8pO1xyXG5cclxuY29uc3QgcGljdHVyZUZvcm1DbGFzcyA9IG5ldyBQb3B1cHdpdGhGb3JtKFxyXG4gIFwiI3Byb2ZpbGUtcGljdHVyZS1tb2RhbFwiLFxyXG4gIGhhbmRsZVBpY3R1cmVTdWJtaXRcclxuKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVGb3JtQ2xhc3MgPSBuZXcgUG9wdXB3aXRoRm9ybShcclxuICBcIiNwcm9maWxlLWVkaXQtbW9kYWxcIixcclxuICBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdFxyXG4pO1xyXG5cclxuY29uc3QgY2FyZEFkZEZvcm1DbGFzcyA9IG5ldyBQb3B1cHdpdGhGb3JtKFxyXG4gIFwiI2FkZC1jYXJkLW1vZGFsXCIsXHJcbiAgaGFuZGxlQ2FyZEFkZFN1Ym1pdFxyXG4pO1xyXG5cclxuY29uc3QgY29uZmlybUZvcm1DbGFzcyA9IG5ldyBQb3B1cFdpdGhDb25maXJtKFwiI2NvbmZpcm0tbW9kYWxcIik7XHJcblxyXG5jb25zdCBjYXJkUHJldmlld0NsYXNzID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI2ltYWdlLW1vZGFsXCIpO1xyXG5cclxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uU2V0dGluZ3MsIGVkaXRGb3JtRWwpO1xyXG5jb25zdCBhZGRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvblNldHRpbmdzLCBhZGRGb3JtRWwpO1xyXG5jb25zdCBwaWN0dXJlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxyXG4gIHZhbGlkYXRpb25TZXR0aW5ncyxcclxuICBwaWN0dXJlRm9ybUVsXHJcbik7XHJcblxyXG4vLyBJTlRJVElBTElaRSAvL1xyXG5jYXJkUHJldmlld0NsYXNzLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnByb2ZpbGVGb3JtQ2xhc3Muc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuY2FyZEFkZEZvcm1DbGFzcy5zZXRFdmVudExpc3RlbmVycygpO1xyXG5waWN0dXJlRm9ybUNsYXNzLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmNvbmZpcm1Gb3JtQ2xhc3Muc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5hZGRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxucGljdHVyZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy8gRlVOQ1RJT05TIC8vXHJcbmZ1bmN0aW9uIGhhbmRsZUltYWdlQ2xpY2soY2FyZCkge1xyXG4gIGNhcmRQcmV2aWV3Q2xhc3Mub3Blbih7IG5hbWU6IGNhcmQuX25hbWUsIGxpbms6IGNhcmQuX2xpbmsgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUNhcmRBZGRTdWJtaXQoaW5wdXREYXRhKSB7XHJcbiAgY2FyZEFkZEZvcm1DbGFzcy5pc0xvYWRpbmcodHJ1ZSk7XHJcbiAgYXBpXHJcbiAgICAuYWRkQ2FyZChpbnB1dERhdGEpXHJcbiAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICBjb25zdCB7IF9pZCwgbmFtZSwgbGluaywgaXNMaWtlZCB9ID0gZGF0YTtcclxuICAgICAgY29uc3QgbmV3Q2FyZERhdGEgPSB7IF9pZCwgbmFtZSwgbGluaywgaXNMaWtlZCB9O1xyXG4gICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUNhcmQobmV3Q2FyZERhdGEpKTtcclxuICAgICAgYWRkRm9ybVZhbGlkYXRvci5kaXNhYmxlQnRuKCk7XHJcbiAgICAgIGNhcmRBZGRGb3JtLnJlc2V0KCk7XHJcbiAgICAgIGNhcmRBZGRGb3JtQ2xhc3MuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBFcnJvcjogZmFpbGVkIHRvIGFkZCBjYXJkLiAke2Vycn1gKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIGNhcmRBZGRGb3JtQ2xhc3MuaXNMb2FkaW5nKGZhbHNlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdChkYXRhKSB7XHJcbiAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgcHJvZmlsZUZvcm1DbGFzcy5pc0xvYWRpbmcodHJ1ZSk7XHJcbiAgYXBpXHJcbiAgICAuc2V0VXNlckluZm8oZGF0YSlcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgcHJvZmlsZUluZm9DbGFzcy5zZXRVc2VySW5mbyh7IG5hbWU6IGRhdGEubmFtZSwgYWJvdXQ6IGRhdGEuYWJvdXQgfSk7XHJcbiAgICAgIGVkaXRGb3JtVmFsaWRhdG9yLmRpc2FibGVCdG4oKTtcclxuICAgICAgcHJvZmlsZUZvcm1DbGFzcy5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGhhbmRsaW5nIHByb2ZpbGUgZm9ybSBzdWJtaXQuICR7ZXJyfWApO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgcHJvZmlsZUZvcm1DbGFzcy5pc0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVBpY3R1cmVTdWJtaXQoYXZhdGFyVXJsKSB7XHJcbiAgcGljdHVyZUZvcm1DbGFzcy5pc0xvYWRpbmcodHJ1ZSk7XHJcbiAgYXBpXHJcbiAgICAuY2hhbmdlQXZhdGFyKGF2YXRhclVybClcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgcHJvZmlsZUluZm9DbGFzcy5zZXRVc2VySW5mbyh7IGF2YXRhcjogYXZhdGFyVXJsLnBpY3R1cmUgfSk7XHJcbiAgICAgIHBpY3R1cmVGb3JtVmFsaWRhdG9yLmRpc2FibGVCdG4oKTtcclxuICAgICAgcGljdHVyZUZvcm1DbGFzcy5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHBpY3R1cmVGb3JtQ2xhc3MuaXNMb2FkaW5nKGZhbHNlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVMaWtlQnRuKGNhcmQpIHtcclxuICBhcGlcclxuICAgIC5zZXRDYXJkTGlrZWQoY2FyZC5pZCwgY2FyZC5nZXRMaWtlZFN0YXR1cygpKVxyXG4gICAgLnRoZW4oKHVwZGF0ZWRDYXJkKSA9PiB7XHJcbiAgICAgIGNhcmQuaGFuZGxlSXNMaWtlZCh1cGRhdGVkQ2FyZC5pc0xpa2VkKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQnRuKGNhcmQpIHtcclxuICBjb25maXJtRm9ybUNsYXNzLm9wZW4oKTtcclxuICBjb25maXJtRm9ybUNsYXNzLmhhbmRsZUNvbmZpcm0oKCkgPT4ge1xyXG4gICAgY29uZmlybUZvcm1DbGFzcy52aWV3TG9hZGluZyh0cnVlKTtcclxuICAgIGFwaVxyXG4gICAgICAucmVtb3ZlQ2FyZChjYXJkLmlkKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgY2FyZC5yZW1vdmVDYXJkKCk7XHJcbiAgICAgICAgY29uZmlybUZvcm1DbGFzcy52aWV3TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgY29uZmlybUZvcm1DbGFzcy5jbG9zZSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBkZWxldGUgY2FyZC4gJHtlcnJ9YCk7XHJcbiAgICAgICAgY29uZmlybUZvcm1DbGFzcy52aWV3TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vLyBMSVNURU5FUlMgLy9cclxucGljdHVyZUVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwaWN0dXJlRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxuICBwaWN0dXJlTGlua0lucHV0LnZhbHVlID0gcGljdHVyZUVsLnNyYztcclxuICBwaWN0dXJlRm9ybUNsYXNzLm9wZW4oKTtcclxufSk7XHJcblxyXG5wcm9maWxlRWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGVkaXRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIGNvbnN0IHsgbmFtZSwgYWJvdXQgfSA9IHByb2ZpbGVJbmZvQ2xhc3MuZ2V0VXNlckluZm8oKTtcclxuICBwcm9maWxlTmFtZUlucHV0LnZhbHVlID0gbmFtZTtcclxuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IGFib3V0O1xyXG4gIHByb2ZpbGVGb3JtQ2xhc3Mub3BlbigpO1xyXG59KTtcclxuXHJcbmNhcmRBZGRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBhZGRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIGNhcmRBZGRGb3JtQ2xhc3Mub3BlbigpO1xyXG59KTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICAgIHRoaXMuX2F1dGhvcml6YXRpb24gPSBoZWFkZXJzLmF1dGhvcml6YXRpb247XHJcbiAgICB0aGlzLl9jb250ZW50VHlwZSA9IGhlYWRlcnMuY29udGVudFR5cGU7XHJcbiAgfVxyXG5cclxuICAvLyBHRU5FUkFMIFBST01JU0VTIC8vXHJcbiAgX2hhbmRsZVNlcnZlclJlc3BvbnNlKHJlcykge1xyXG4gICAgcmV0dXJuIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICB9XHJcblxyXG4gIGdldEFwcEluZm8oKSB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuZ2V0SW5pdGlhbENhcmRzKCksIHRoaXMuZ2V0VXNlckluZm8oKV0pO1xyXG4gIH1cclxuXHJcbiAgLy8gQ0FSRFMgLy9cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7IGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMgfSlcclxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGBBcGkgZXJyb3IgZ2V0dGluZyBjYXJkcywgJHtlcnJ9YCkpO1xyXG4gIH1cclxuXHJcbiAgYWRkQ2FyZCh7IG5hbWUsIGxpbmsgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBsaW5rLFxyXG4gICAgICB9KSxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KVxyXG4gICAgICAudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XHJcbiAgfVxyXG5cclxuICBzZXRDYXJkTGlrZWQoY2FyZElkLCBpc0xpa2VkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IGlzTGlrZWQgPyBcIkRFTEVURVwiIDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuICB9XHJcblxyXG4gIC8vIFVTRVIgSU5GTyAvL1xyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCwgYXZhdGFyLCBfaWQgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgYWJvdXQsXHJcbiAgICAgICAgYXZhdGFyLFxyXG4gICAgICAgIF9pZCxcclxuICAgICAgfSksXHJcbiAgICB9KVxyXG4gICAgICAudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoYEVycm9yIHNldHRpbmcgYXBpIHVzZXIgaW5mby4gJHtlcnJ9YCkpO1xyXG4gIH1cclxuXHJcbiAgY2hhbmdlQXZhdGFyKGF2YXRhclVybCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IGF2YXRhclVybC5waWN0dXJlLFxyXG4gICAgICB9KSxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBuYW1lLCBhYm91dCwgYXZhdGFyLCBfaWQgfSkge1xyXG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9hYm91dCA9IGFib3V0O1xyXG4gICAgdGhpcy5fYXZhdGFyID0gYXZhdGFyO1xyXG4gICAgdGhpcy5pZCA9IF9pZDtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgYWJvdXQ6IHRoaXMuX2Fib3V0LnRleHRDb250ZW50LFxyXG4gICAgICBhdmF0YXI6IHRoaXMuX2F2YXRhci5zcmMsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCwgYXZhdGFyIH0pIHtcclxuICAgIGlmIChuYW1lKSB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIGlmIChhYm91dCkgdGhpcy5fYWJvdXQudGV4dENvbnRlbnQgPSBhYm91dDtcclxuICAgIGlmIChhdmF0YXIpIHRoaXMuX2F2YXRhci5zcmMgPSBhdmF0YXI7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuICAgIHRoaXMuX2NvbmZpcm1CdG4gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY29uZmlybVwiKTtcclxuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNvbmZpcm0gPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlQ29uZmlybShoYW5kbGVEZWxldGVDb25maXJtKSB7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDb25maXJtID0gaGFuZGxlRGVsZXRlQ29uZmlybTtcclxuICB9XHJcblxyXG4gIHZpZXdMb2FkaW5nKGlzTG9hZGluZykge1xyXG4gICAgaWYgKGlzTG9hZGluZykge1xyXG4gICAgICB0aGlzLl9jb25maXJtQnRuLnRleHRDb250ZW50ID0gXCJEZWxldGluZy4uLlwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fY29uZmlybUJ0bi50ZXh0Q29udGVudCA9IFwiWWVzXCI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgaWYgKHR5cGVvZiB0aGlzLl9oYW5kbGVEZWxldGVDb25maXJtID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVDb25maXJtKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcHJldmlld0ltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtaW1hZ2VcIik7XHJcbiAgICB0aGlzLl9wcmV2aWV3SW1hZ2VUaXRsZSA9XHJcbiAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLWltYWdlLXRpdGxlXCIpO1xyXG4gIH1cclxuXHJcbiAgb3Blbih7IG5hbWUsIGxpbmsgfSkge1xyXG4gICAgdGhpcy5fcHJldmlld0ltYWdlLmFsdCA9IG5hbWU7XHJcbiAgICB0aGlzLl9wcmV2aWV3SW1hZ2VUaXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICB0aGlzLl9wcmV2aWV3SW1hZ2Uuc3JjID0gbGluaztcclxuXHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJwcm9maWxlSW5mbyIsIm5hbWUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhYm91dCIsImF2YXRhciIsIl9pZCIsInZhbGlkYXRpb25TZXR0aW5ncyIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwicHJvZmlsZUVkaXRNb2RhbCIsImNhcmRBZGRNb2RhbCIsInByb2ZpbGVQaWN0dXJlTW9kYWwiLCJlZGl0Rm9ybUVsIiwiYWRkRm9ybUVsIiwicGljdHVyZUZvcm1FbCIsInByb2ZpbGVFZGl0QnRuIiwiY2FyZEFkZEJ0biIsImNhcmRBZGRGb3JtIiwicHJvZmlsZU5hbWVJbnB1dCIsInByb2ZpbGVEZXNjcmlwdGlvbklucHV0IiwicGljdHVyZUVkaXRCdG4iLCJwaWN0dXJlTGlua0lucHV0IiwicGljdHVyZUVsIiwiQ2FyZCIsImNvbnN0cnVjdG9yIiwiX3JlZiIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJoYW5kbGVEZWxldGVCdG4iLCJoYW5kbGVMaWtlQnRuIiwibGluayIsImlzTGlrZWQiLCJ0aGlzIiwiX25hbWUiLCJfbGluayIsIl9pc0xpa2VkIiwiaWQiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfaGFuZGxlRGVsZXRlQnRuIiwiX2hhbmRsZUxpa2VCdG4iLCJfY2FyZEVsZW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2NhcmRMaWtlQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jYXJkRGVsZXRlQnRuIiwiX2NhcmRJbWFnZUVsIiwicmVtb3ZlQ2FyZCIsInJlbW92ZSIsImdldENhcmRJZCIsImdldExpa2VkU3RhdHVzIiwiaGFuZGxlSXNMaWtlZCIsIl9yZW5kZXJpc0xpa2VkIiwiY2xhc3NMaXN0IiwiYWRkIiwiZ2V0VmlldyIsIl9jYXJkVGl0bGVFbCIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwiX2lucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dEVscyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJkaXNhYmxlQnRuIiwiX3N1Ym1pdEJ0biIsImRpc2FibGVkIiwiX2VuYWJsZUJ0biIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWwiLCJlcnJvck1lc3NhZ2VFbCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hpZGVJbnB1dEVycm9yIiwiX2hhc0ludmFsaWRJbnB1dCIsImV2ZXJ5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJmb3JFYWNoIiwiZW5hYmxlVmFsaWRhdGlvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInJlc2V0VmFsaWRhdGlvbiIsImlucHV0RWxlbWVudCIsInJlc2V0IiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJhZGRJdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX2Nsb3NlQnRuIiwiX21vZGFsQmFja2dyb3VuZCIsIm9wZW4iLCJfaGFuZGxlRXNjYXBlQ2xvc2UiLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsIlBvcHVwd2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtIiwiX2lucHV0c0FyciIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0VmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsImlzTG9hZGluZyIsImNhcmRTZWN0aW9uIiwiYXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiX2F1dGhvcml6YXRpb24iLCJhdXRob3JpemF0aW9uIiwiX2NvbnRlbnRUeXBlIiwiY29udGVudFR5cGUiLCJfaGFuZGxlU2VydmVyUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0QXBwSW5mbyIsImFsbCIsImdldEluaXRpYWxDYXJkcyIsImdldFVzZXJJbmZvIiwiZmV0Y2giLCJ0aGVuIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJhZGRDYXJkIiwiX3JlZjIiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNhcmRJZCIsInNldENhcmRMaWtlZCIsInNldFVzZXJJbmZvIiwiX3JlZjMiLCJjaGFuZ2VBdmF0YXIiLCJhdmF0YXJVcmwiLCJwaWN0dXJlIiwiX2NoZWNrUmVzcG9uc2UiLCJjYXJkcyIsImNhcmREYXRhIiwiaW5pdGlhbENhcmQiLCJjcmVhdGVDYXJkIiwiZGF0YSIsInByb2ZpbGVJbmZvQ2xhc3MiLCJfYWJvdXQiLCJfYXZhdGFyIiwicGljdHVyZUZvcm1DbGFzcyIsInBpY3R1cmVGb3JtVmFsaWRhdG9yIiwiZmluYWxseSIsInByb2ZpbGVGb3JtQ2xhc3MiLCJsb2ciLCJlZGl0Rm9ybVZhbGlkYXRvciIsImNhcmRBZGRGb3JtQ2xhc3MiLCJpbnB1dERhdGEiLCJuZXdDYXJkRGF0YSIsImFkZEZvcm1WYWxpZGF0b3IiLCJjb25maXJtRm9ybUNsYXNzIiwiX2NvbmZpcm1CdG4iLCJfaGFuZGxlRGVsZXRlQ29uZmlybSIsImhhbmRsZUNvbmZpcm0iLCJoYW5kbGVEZWxldGVDb25maXJtIiwidmlld0xvYWRpbmciLCJjYXJkUHJldmlld0NsYXNzIiwiX3ByZXZpZXdJbWFnZSIsIl9wcmV2aWV3SW1hZ2VUaXRsZSIsImNhcmQiLCJ1cGRhdGVkQ2FyZCJdLCJzb3VyY2VSb290IjoiIn0=