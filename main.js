!function(){"use strict";const e={name:document.querySelector(".profile__name"),description:document.querySelector(".profile__description"),avatar:document.querySelector(".profile__avatar-image"),_id:"203ef5b29b8491c8911cf220"},t={inputSelector:".modal__input",submitButtonSelector:".modal__save",inactiveButtonClass:"modal__save_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},r=document.querySelector("#profile-edit-modal"),s=document.querySelector("#add-card-modal"),i=document.querySelector("#profile-picture-modal"),n=r.querySelector(".modal__form"),a=s.querySelector(".modal__form"),o=i.querySelector(".modal__form"),l=document.querySelector("#profile-edit-button"),d=document.querySelector("#add-card-button"),c=(s.querySelector("#card-form"),document.querySelector("#modal-name")),h=document.querySelector("#modal-description"),_=(document.querySelector("#modal-title"),document.querySelector("#modal-link"),document.querySelector("#modal-image"),document.querySelector("#modal-image-title"),document.querySelector("#profile-avatar-button")),u=document.querySelector("#modal-picture"),m=document.querySelector(".profile__avatar-image");document.querySelector(".card__like-button"),document.querySelector(".card__delete-button");class p{constructor(e){this._popupElement=document.querySelector(e),this._closeBtn=this._popupElement.querySelector(".modal__exit"),this._modalBackground=this._popupElement.querySelector(".modal__background")}open(){document.addEventListener("keydown",this._handleEscapeClose),this._popupElement.classList.add("modal_opened")}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscapeClose)}_handleEscapeClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._closeBtn.addEventListener("click",(()=>{this.close()})),this._modalBackground.addEventListener("click",(()=>{this.close()}))}}class v extends p{constructor(e,t){super(e),this._handleFormSubmit=t,this._form=this._popupElement.querySelector(".modal__form"),this._submitBtn=this._popupElement.querySelector(".modal__save")}_getInputValues(){const e=Array.from(this._form.querySelectorAll(".modal__input")),t={};return e.forEach((e=>{t[e.name]=e.value})),t}viewLoading(e){this._submitBtn.textContent=e?"Saving...":"Save"}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}}class E{constructor(e){let{name:t,link:r,isLiked:s,_id:i,cardSelector:n,handleImageClick:a,handleDeleteBtn:o,handleLikeBtn:l}=e;this._name=t,this._link=r,this._isLiked=s,this.id=i,this._cardSelector=n,this._handleImageClick=a,this._handleDeleteBtn=o,this._handleLikeBtn=l,this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._confirmModalEl=new v("#confirm-modal",this._handleConfirmBtn),this._confirmForm=document.querySelector("#confirm-modal-form")}_setEventListeners(){this._cardLikeButton.addEventListener("click",this._handleLikeBtn(this)),this._cardDeleteBtn.addEventListener("click",this._handleDeleteBtn(this)),this._confirmForm.addEventListener("submit",this._handleConfirmBtn),this._cardImageEl.addEventListener("click",(()=>{this._handleImageClick(this)}))}removeCard(){this._cardElement.remove()}getCardId(){return this.id}getLikedStatus(){return this._isLiked}handleIsLiked(e){this._isLiked=e,this._renderLikes()}_renderLikes(){this._isLiked?this._cardLikeButton.classList.add("card__like-button_active"):this._cardLikeButton.classList.remove("card__like-button_active")}getView(){return this._cardImageEl=this._cardElement.querySelector(".card__image"),this._cardTitleEl=this._cardElement.querySelector(".card__title"),this._cardLikeButton=this._cardElement.querySelector(".card__like-button"),this._cardDeleteBtn=this._cardElement.querySelector(".card__delete-button"),this._cardImageEl.src=this._link,this._cardImageEl.alt=this._name,this._cardTitleEl.textContent=this._name,this._setEventListeners(),this._renderLikes(),this._cardElement}}class S{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t}disableBtn(){this._submitBtn.classList.add(this._inactiveButtonClass),this._submitBtn.disabled=!0}_enableBtn(){this._submitBtn.classList.remove(this._inactiveButtonClass),this._submitBtn.disabled=!1}_showInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_hasInvalidInput(){return!this._inputEls.every((e=>e.validity.valid))}_toggleButtonState(){this._hasInvalidInput(this._inputEls)?this.disableBtn(this._submitBtn,this._inactiveButtonClass):this._enableBtn(this._submitBtn,this._inactiveButtonClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_setEventListeners(){this._inputEls=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._submitBtn=this._formElement.querySelector(this._submitButtonSelector),this._inputEls.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault(),this.disableBtn()})),this._setEventListeners()}}class f{constructor(e,t){let{items:r,renderer:s}=e;this._items=r,this._renderer=s,this._container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}const L=new class{constructor(e){let{baseUrl:t,headers:r}=e;this._baseUrl=t,this._headers=r,this._authorization=r.authorization,this._contentType=r.contentType}_handleServerResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getAppInfo(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._handleServerResponse).catch((e=>console.error(e)))}addCard(e){let{name:t,link:r}=e;return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:r})}).then(this._handleServerResponse).catch((e=>console.error(e)))}removeCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._handleServerResponse).catch((e=>console.error(e)))}addLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes/`,{method:"PUT",headers:this._headers,body:JSON.stringify({isLiked:!0})}).then(this._handleServerResponse).catch((e=>console.error(e)))}removeLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes/`,{method:"DELETE",headers:this._headers,body:JSON.stringify({isLiked:!1})}).then(this._handleServerResponse).catch((e=>console.error(e)))}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._handleServerResponse).catch((e=>console.error(e)))}setUserInfo(e,t){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,description:t})}).then(this._handleServerResponse).catch((e=>console.error(e)))}changeAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkResponse).catch((e=>console.error(e)))}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"40adfe4e-c0e4-40a1-9506-b555db893f72","Content-Type":"application/json"}});L.getInitialCards().then((e=>{const t=new f({items:e,renderer:e=>{const r=k(e);t.addItem(r)}},".gallery__cards");t.renderItems()})).catch((e=>console.error(e))),L.getUserInfo().then((e=>{console.log(e),y.setUserInfo(e.name,e.about),y.setAvatar(e.avatar)})).catch((e=>console.error(e)));const k=e=>new E({name:e.name,link:e.link,isLiked:e.isLiked,_id:e._id,cardSelector:"#card-template",handleImageClick:U,handleDeleteBtn:T,handleLikeBtn:$}).getView(),y=new class{constructor(e){let{name:t,description:r,avatar:s}=e;this._name=t,this._job=r,this._avatar=s}getUserInfo(){return{name:this._name.textContent,description:this._job.textContent}}setUserInfo(e,t){this._name.textContent=e,this._job.textContent=t}setAvatar(e){this._avatar.src=e}}(e),b=new v("#profile-picture-modal",(function(){m.src=u.value,b.close()})),g=new v("#profile-edit-modal",(function(e){g.viewLoading(!0),L.setUserInfo(e.name,e.about).then((e=>{y.setUserInfo(e.name,e.about),C.disableBtn(),g.close()})).catch((e=>{console.error(e)})).finally((()=>{y.viewLoading(!1)}))})),B=new v("#add-card-modal",(function(e){B.viewLoading(!0),L.addCard(e).then((e=>{cardSection.addItem(k({name:e.name,link:e.link})),q.disableBtn(),B.reset(),B.close()})).catch((e=>{console.error(e)})).finally((()=>{B.viewLoading(!1)}))})),I=new class extends p{constructor(e){super(e),this._previewImage=this._popupElement.querySelector("#modal-image"),this._previewImageTitle=this._popupElement.querySelector("#modal-image-title")}open(e){let{name:t,link:r}=e;this._previewImage.alt=t,this._previewImageTitle.textContent=t,this._previewImage.src=r,super.open()}}("#image-modal"),C=new S(t,n),q=new S(t,a),w=new S(t,o);function U(e){I.open({name:e._name,link:e._link})}function $(e){const t=e.getCardId();e.getLikedStatus()?L.removeLike(t).then((t=>{e.handleIsLiked(t.getLikedStatus)})).catch((e=>{console.error(e)})):L.addLike(t).then((t=>{e.handleIsLiked(t.getLikedStatus)})).catch((e=>{console.error(e)}))}function T(){}I.setEventListeners(),g.setEventListeners(),B.setEventListeners(),b.setEventListeners(),C.enableValidation(),q.enableValidation(),w.enableValidation(),_.addEventListener("click",(()=>{u.value=m.src,b.open()})),l.addEventListener("click",(()=>{const{name:e,description:t}=y.getUserInfo();c.value=e,h.value=t,g.open()})),d.addEventListener("click",(()=>{B.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoieUJBQU8sTUFrQ01BLEVBQWMsQ0FDekJDLEtBQU1DLFNBQVNDLGNBQWMsa0JBQzdCQyxZQUFhRixTQUFTQyxjQUFjLHlCQUNwQ0UsT0FBUUgsU0FBU0MsY0FBYywwQkFDL0JHLElBQUssNEJBR01DLEVBQXFCLENBQ2hDQyxjQUFlLGdCQUNmQyxxQkFBc0IsZUFDdEJDLG9CQUFxQix1QkFDckJDLGdCQUFpQiwwQkFDakJDLFdBQVksd0JBR1JDLEVBQW1CWCxTQUFTQyxjQUFjLHVCQUMxQ1csRUFBZVosU0FBU0MsY0FBYyxtQkFDdENZLEVBQXNCYixTQUFTQyxjQUFjLDBCQUV0Q2EsRUFBYUgsRUFBaUJWLGNBQWMsZ0JBQzVDYyxFQUFZSCxFQUFhWCxjQUFjLGdCQUN2Q2UsRUFBZ0JILEVBQW9CWixjQUFjLGdCQUVsRGdCLEVBQWlCakIsU0FBU0MsY0FBYyx3QkFDeENpQixFQUFhbEIsU0FBU0MsY0FBYyxvQkFFcENrQixHQURjUCxFQUFhWCxjQUFjLGNBQ3RCRCxTQUFTQyxjQUFjLGdCQUMxQ21CLEVBQ1hwQixTQUFTQyxjQUFjLHNCQUtab0IsR0FKaUJyQixTQUFTQyxjQUFjLGdCQUN4QkQsU0FBU0MsY0FBYyxlQUN4QkQsU0FBU0MsY0FBYyxnQkFDbEJELFNBQVNDLGNBQWMsc0JBQzFCRCxTQUFTQyxjQUFjLDJCQUN4Q3FCLEVBQW1CdEIsU0FBU0MsY0FBYyxrQkFDMUNzQixFQUFZdkIsU0FBU0MsY0FBYywwQkFDckJELFNBQVNDLGNBQWMsc0JBQ3JCRCxTQUFTQyxjQUFjLHdCQ3ZFckMsTUFBTXVCLEVBQ25CQyxXQUFBQSxDQUFZQyxHQUNWQyxLQUFLQyxjQUFnQjVCLFNBQVNDLGNBQWN5QixHQUM1Q0MsS0FBS0UsVUFBWUYsS0FBS0MsY0FBYzNCLGNBQWMsZ0JBQ2xEMEIsS0FBS0csaUJBQ0hILEtBQUtDLGNBQWMzQixjQUFjLHFCQUNyQyxDQUVBOEIsSUFBQUEsR0FDRS9CLFNBQVNnQyxpQkFBaUIsVUFBV0wsS0FBS00sb0JBQzFDTixLQUFLQyxjQUFjTSxVQUFVQyxJQUFJLGVBQ25DLENBRUFDLEtBQUFBLEdBQ0VULEtBQUtDLGNBQWNNLFVBQVVHLE9BQU8sZ0JBQ3BDckMsU0FBU3NDLG9CQUFvQixVQUFXWCxLQUFLTSxtQkFDL0MsQ0FFQUEsbUJBQXNCTSxJQUNOLFdBQVZBLEVBQUVDLEtBQ0piLEtBQUtTLE9BQ1AsRUFHRkssaUJBQUFBLEdBQ0VkLEtBQUtFLFVBQVVHLGlCQUFpQixTQUFTLEtBQ3ZDTCxLQUFLUyxPQUFPLElBR2RULEtBQUtHLGlCQUFpQkUsaUJBQWlCLFNBQVMsS0FDOUNMLEtBQUtTLE9BQU8sR0FFaEIsRUM5QmEsTUFBTU0sVUFBc0JsQixFQUN6Q0MsV0FBQUEsQ0FBWUMsRUFBZWlCLEdBQ3pCQyxNQUFNbEIsR0FDTkMsS0FBS2tCLGtCQUFvQkYsRUFDekJoQixLQUFLbUIsTUFBUW5CLEtBQUtDLGNBQWMzQixjQUFjLGdCQUM5QzBCLEtBQUtvQixXQUFhcEIsS0FBS0MsY0FBYzNCLGNBQWMsZUFDckQsQ0FFQStDLGVBQUFBLEdBQ0UsTUFBTUMsRUFBWUMsTUFBTUMsS0FBS3hCLEtBQUttQixNQUFNTSxpQkFBaUIsa0JBRW5EQyxFQUFjLENBQUMsRUFLckIsT0FIQUosRUFBVUssU0FBU0MsSUFDakJGLEVBQVlFLEVBQU14RCxNQUFRd0QsRUFBTUMsS0FBSyxJQUVoQ0gsQ0FDVCxDQUVBSSxXQUFBQSxDQUFZQyxHQUVSL0IsS0FBS29CLFdBQVdZLFlBRGRELEVBQzRCLFlBRUEsTUFFbEMsQ0FFQWpCLGlCQUFBQSxHQUNFRyxNQUFNSCxvQkFFTmQsS0FBS21CLE1BQU1kLGlCQUFpQixVQUFXTyxJQUNyQ0EsRUFBRXFCLGlCQUNGakMsS0FBS2tCLGtCQUFrQmxCLEtBQUtxQixrQkFBa0IsR0FFbEQsRUNsQ2EsTUFBTWEsRUFDbkJwQyxXQUFBQSxDQUFXcUMsR0FTUixJQVRTLEtBQ1YvRCxFQUFJLEtBQ0pnRSxFQUFJLFFBQ0pDLEVBQU8sSUFDUDVELEVBQUcsYUFDSDZELEVBQVksaUJBQ1pDLEVBQWdCLGdCQUNoQkMsRUFBZSxjQUNmQyxHQUNETixFQUNDbkMsS0FBSzBDLE1BQVF0RSxFQUNiNEIsS0FBSzJDLE1BQVFQLEVBQ2JwQyxLQUFLNEMsU0FBV1AsRUFDaEJyQyxLQUFLNkMsR0FBS3BFLEVBQ1Z1QixLQUFLOEMsY0FBZ0JSLEVBQ3JCdEMsS0FBSytDLGtCQUFvQlIsRUFDekJ2QyxLQUFLZ0QsaUJBQW1CUixFQUN4QnhDLEtBQUtpRCxlQUFpQlIsRUFFdEJ6QyxLQUFLa0QsYUFBZTdFLFNBQ2pCQyxjQUFjMEIsS0FBSzhDLGVBQ25CSyxRQUFRN0UsY0FBYyxTQUN0QjhFLFdBQVUsR0FDYnBELEtBQUtxRCxnQkFBa0IsSUFBSXRDLEVBQ3pCLGlCQUNBZixLQUFLc0QsbUJBRVB0RCxLQUFLdUQsYUFBZWxGLFNBQVNDLGNBQWMsc0JBQzdDLENBRUFrRixrQkFBQUEsR0FDRXhELEtBQUt5RCxnQkFBZ0JwRCxpQkFBaUIsUUFBU0wsS0FBS2lELGVBQWVqRCxPQUVuRUEsS0FBSzBELGVBQWVyRCxpQkFBaUIsUUFBU0wsS0FBS2dELGlCQUFpQmhELE9BRXBFQSxLQUFLdUQsYUFBYWxELGlCQUFpQixTQUFVTCxLQUFLc0QsbUJBRWxEdEQsS0FBSzJELGFBQWF0RCxpQkFBaUIsU0FBUyxLQUMxQ0wsS0FBSytDLGtCQUFrQi9DLEtBQUssR0FFaEMsQ0FFQTRELFVBQUFBLEdBQ0U1RCxLQUFLa0QsYUFBYXhDLFFBQ3BCLENBRUFtRCxTQUFBQSxHQUNFLE9BQU83RCxLQUFLNkMsRUFDZCxDQUVBaUIsY0FBQUEsR0FDRSxPQUFPOUQsS0FBSzRDLFFBQ2QsQ0FFQW1CLGFBQUFBLENBQWMxQixHQUNackMsS0FBSzRDLFNBQVdQLEVBQ2hCckMsS0FBS2dFLGNBQ1AsQ0FFQUEsWUFBQUEsR0FDTWhFLEtBQUs0QyxTQUNQNUMsS0FBS3lELGdCQUFnQmxELFVBQVVDLElBQUksNEJBRW5DUixLQUFLeUQsZ0JBQWdCbEQsVUFBVUcsT0FBTywyQkFFMUMsQ0FFQXVELE9BQUFBLEdBZ0JFLE9BZkFqRSxLQUFLMkQsYUFBZTNELEtBQUtrRCxhQUFhNUUsY0FBYyxnQkFDcEQwQixLQUFLa0UsYUFBZWxFLEtBQUtrRCxhQUFhNUUsY0FBYyxnQkFDcEQwQixLQUFLeUQsZ0JBQ0h6RCxLQUFLa0QsYUFBYTVFLGNBQWMsc0JBQ2xDMEIsS0FBSzBELGVBQWlCMUQsS0FBS2tELGFBQWE1RSxjQUN0Qyx3QkFHRjBCLEtBQUsyRCxhQUFhUSxJQUFNbkUsS0FBSzJDLE1BQzdCM0MsS0FBSzJELGFBQWFTLElBQU1wRSxLQUFLMEMsTUFDN0IxQyxLQUFLa0UsYUFBYWxDLFlBQWNoQyxLQUFLMEMsTUFFckMxQyxLQUFLd0QscUJBQ0x4RCxLQUFLZ0UsZUFFRWhFLEtBQUtrRCxZQUNkLEVDdkZhLE1BQU1tQixFQUNuQnZFLFdBQUFBLENBQVl3RSxFQUFRQyxHQUNsQnZFLEtBQUt3RSxlQUFpQkYsRUFBTzNGLGNBQzdCcUIsS0FBS3lFLHNCQUF3QkgsRUFBTzFGLHFCQUNwQ29CLEtBQUswRSxxQkFBdUJKLEVBQU96RixvQkFDbkNtQixLQUFLMkUsaUJBQW1CTCxFQUFPeEYsZ0JBQy9Ca0IsS0FBSzRFLFlBQWNOLEVBQU92RixXQUMxQmlCLEtBQUs2RSxhQUFlTixDQUN0QixDQUVBTyxVQUFBQSxHQUNFOUUsS0FBS29CLFdBQVdiLFVBQVVDLElBQUlSLEtBQUswRSxzQkFDbkMxRSxLQUFLb0IsV0FBVzJELFVBQVcsQ0FDN0IsQ0FFQUMsVUFBQUEsR0FDRWhGLEtBQUtvQixXQUFXYixVQUFVRyxPQUFPVixLQUFLMEUsc0JBQ3RDMUUsS0FBS29CLFdBQVcyRCxVQUFXLENBQzdCLENBRUFFLGVBQUFBLENBQWdCQyxHQUNkLE1BQU1DLEVBQWlCbkYsS0FBSzZFLGFBQWF2RyxjQUN2QyxJQUFJNEcsRUFBUXJDLFlBRWRxQyxFQUFRM0UsVUFBVUMsSUFBSVIsS0FBSzJFLGtCQUMzQlEsRUFBZW5ELFlBQWNrRCxFQUFRRSxrQkFDckNELEVBQWU1RSxVQUFVQyxJQUFJUixLQUFLNEUsWUFDcEMsQ0FFQVMsZUFBQUEsQ0FBZ0JILEdBQ2QsTUFBTUMsRUFBaUJuRixLQUFLNkUsYUFBYXZHLGNBQ3ZDLElBQUk0RyxFQUFRckMsWUFFZHFDLEVBQVEzRSxVQUFVRyxPQUFPVixLQUFLMkUsa0JBQzlCUSxFQUFlbkQsWUFBYyxHQUM3Qm1ELEVBQWU1RSxVQUFVRyxPQUFPVixLQUFLNEUsWUFDdkMsQ0FFQVUsZ0JBQUFBLEdBQ0UsT0FBUXRGLEtBQUt1RixVQUFVQyxPQUFPTixHQUFZQSxFQUFRTyxTQUFTQyxPQUM3RCxDQUVBQyxrQkFBQUEsR0FDTTNGLEtBQUtzRixpQkFBaUJ0RixLQUFLdUYsV0FDN0J2RixLQUFLOEUsV0FBVzlFLEtBQUtvQixXQUFZcEIsS0FBSzBFLHNCQUd4QzFFLEtBQUtnRixXQUFXaEYsS0FBS29CLFdBQVlwQixLQUFLMEUscUJBQ3hDLENBRUFrQixtQkFBQUEsQ0FBb0JWLEdBQ2JBLEVBQVFPLFNBQVNDLE1BR3BCMUYsS0FBS3FGLGdCQUFnQkgsR0FGckJsRixLQUFLaUYsZ0JBQWdCQyxFQUl6QixDQUVBMUIsa0JBQUFBLEdBQ0V4RCxLQUFLdUYsVUFBWWhFLE1BQU1DLEtBQ3JCeEIsS0FBSzZFLGFBQWFwRCxpQkFBaUJ6QixLQUFLd0UsaUJBRTFDeEUsS0FBS29CLFdBQWFwQixLQUFLNkUsYUFBYXZHLGNBQ2xDMEIsS0FBS3lFLHVCQUVQekUsS0FBS3VGLFVBQVU1RCxTQUFTdUQsSUFDdEJBLEVBQVE3RSxpQkFBaUIsU0FBUyxLQUNoQ0wsS0FBSzRGLG9CQUFvQlYsR0FDekJsRixLQUFLMkYsb0JBQW9CLEdBQ3pCLEdBRU4sQ0FFQUUsZ0JBQUFBLEdBQ0U3RixLQUFLNkUsYUFBYXhFLGlCQUFpQixVQUFXTyxJQUM1Q0EsRUFBRXFCLGlCQUNGakMsS0FBSzhFLFlBQVksSUFHbkI5RSxLQUFLd0Qsb0JBQ1AsRUNoRmEsTUFBTXNDLEVBQ25CaEcsV0FBQUEsQ0FBV3FDLEVBQXNCNEQsR0FBbUIsSUFBeEMsTUFBRUMsRUFBSyxTQUFFQyxHQUFVOUQsRUFDN0JuQyxLQUFLa0csT0FBU0YsRUFDZGhHLEtBQUttRyxVQUFZRixFQUNqQmpHLEtBQUtvRyxXQUFhL0gsU0FBU0MsY0FBY3lILEVBQzNDLENBRUFNLFdBQUFBLEdBQ0VyRyxLQUFLa0csT0FBT3ZFLFNBQVMyRSxJQUNuQnRHLEtBQUttRyxVQUFVRyxFQUFLLEdBRXhCLENBRUFDLE9BQUFBLENBQVFDLEdBQ054RyxLQUFLb0csV0FBV0ssUUFBUUQsRUFDMUIsRUNnQkYsTUFBTUUsRUFBTSxJQy9CRyxNQUNiNUcsV0FBQUEsQ0FBV3FDLEdBQXVCLElBQXRCLFFBQUV3RSxFQUFPLFFBQUVDLEdBQVN6RSxFQUM5Qm5DLEtBQUs2RyxTQUFXRixFQUNoQjNHLEtBQUs4RyxTQUFXRixFQUNoQjVHLEtBQUsrRyxlQUFpQkgsRUFBUUksY0FDOUJoSCxLQUFLaUgsYUFBZUwsRUFBUU0sV0FDOUIsQ0FHQUMscUJBQUFBLENBQXNCQyxHQUNwQixPQUFPQSxFQUFJQyxHQUFLRCxFQUFJRSxPQUFTQyxRQUFRQyxPQUFPLFVBQVVKLEVBQUlLLFNBQzVELENBRUFDLFVBQUFBLEdBQ0UsT0FBT0gsUUFBUUksSUFBSSxDQUFDM0gsS0FBSzRILGtCQUFtQjVILEtBQUs2SCxlQUNuRCxDQUdBRCxlQUFBQSxHQUNFLE9BQU9FLE1BQU0sR0FBRzlILEtBQUs2RyxpQkFBa0IsQ0FBRUQsUUFBUzVHLEtBQUs4RyxXQUNwRGlCLEtBQUsvSCxLQUFLbUgsdUJBQ1ZhLE9BQU9DLEdBQVFDLFFBQVFDLE1BQU1GLElBQ2xDLENBRUFHLE9BQUFBLENBQU9DLEdBQWlCLElBQWhCLEtBQUVqSyxFQUFJLEtBQUVnRSxHQUFNaUcsRUFDcEIsT0FBT1AsTUFBTSxHQUFHOUgsS0FBSzZHLGlCQUFrQixDQUNyQ3lCLE9BQVEsT0FDUjFCLFFBQVM1RyxLQUFLOEcsU0FDZHlCLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkJySyxPQUNBZ0UsV0FHRDJGLEtBQUsvSCxLQUFLbUgsdUJBQ1ZhLE9BQU9DLEdBQVFDLFFBQVFDLE1BQU1GLElBQ2xDLENBRUFyRSxVQUFBQSxDQUFXOEUsR0FDVCxPQUFPWixNQUFNLEdBQUc5SCxLQUFLNkcsa0JBQWtCNkIsSUFBVSxDQUMvQ0osT0FBUSxTQUNSMUIsUUFBUzVHLEtBQUs4RyxXQUViaUIsS0FBSy9ILEtBQUttSCx1QkFDVmEsT0FBT0MsR0FBUUMsUUFBUUMsTUFBTUYsSUFDbEMsQ0FFQVUsT0FBQUEsQ0FBUUQsR0FDTixPQUFPWixNQUFNLEdBQUc5SCxLQUFLNkcsa0JBQWtCNkIsV0FBaUIsQ0FDdERKLE9BQVEsTUFDUjFCLFFBQVM1RyxLQUFLOEcsU0FDZHlCLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkJwRyxTQUFTLE1BR1YwRixLQUFLL0gsS0FBS21ILHVCQUNWYSxPQUFPQyxHQUFRQyxRQUFRQyxNQUFNRixJQUNsQyxDQUVBVyxVQUFBQSxDQUFXRixHQUNULE9BQU9aLE1BQU0sR0FBRzlILEtBQUs2RyxrQkFBa0I2QixXQUFpQixDQUN0REosT0FBUSxTQUNSMUIsUUFBUzVHLEtBQUs4RyxTQUNkeUIsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQnBHLFNBQVMsTUFHVjBGLEtBQUsvSCxLQUFLbUgsdUJBQ1ZhLE9BQU9DLEdBQVFDLFFBQVFDLE1BQU1GLElBQ2xDLENBR0FKLFdBQUFBLEdBQ0UsT0FBT0MsTUFBTSxHQUFHOUgsS0FBSzZHLG9CQUFxQixDQUN4Q0QsUUFBUzVHLEtBQUs4RyxXQUViaUIsS0FBSy9ILEtBQUttSCx1QkFDVmEsT0FBT0MsR0FBUUMsUUFBUUMsTUFBTUYsSUFDbEMsQ0FFQVksV0FBQUEsQ0FBWXpLLEVBQU1HLEdBQ2hCLE9BQU91SixNQUFNLEdBQUc5SCxLQUFLNkcsb0JBQXFCLENBQ3hDeUIsT0FBUSxRQUNSMUIsUUFBUzVHLEtBQUs4RyxTQUNkeUIsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQnJLLE9BQ0FHLGtCQUdEd0osS0FBSy9ILEtBQUttSCx1QkFDVmEsT0FBT0MsR0FBUUMsUUFBUUMsTUFBTUYsSUFDbEMsQ0FFQWEsWUFBQUEsQ0FBYXRLLEdBQ1gsT0FBT3NKLE1BQU0sR0FBRzlILEtBQUs2RywyQkFBNEIsQ0FDL0N5QixPQUFRLFFBQ1IxQixRQUFTNUcsS0FBSzhHLFNBQ2R5QixLQUFNQyxLQUFLQyxVQUFVLENBQ25CakssYUFHRHVKLEtBQUsvSCxLQUFLK0ksZ0JBQ1ZmLE9BQU9DLEdBQVFDLFFBQVFDLE1BQU1GLElBQ2xDLEdEdkVrQixDQUNsQnRCLFFBQVMsa0RBQ1RDLFFBQVMsQ0FDUEksY0FBZSx1Q0FDZixlQUFnQixzQkFJcEJOLEVBQ0drQixrQkFDQUcsTUFBTWlCLElBQ0wsTUFBTUMsRUFBYyxJQUFJbkQsRUFDdEIsQ0FDRUUsTUFBT2dELEVBQ1AvQyxTQUFXK0MsSUFDVCxNQUFNRSxFQUFjQyxFQUFXSCxHQUMvQkMsRUFBWTFDLFFBQVEyQyxFQUFZLEdBR3BDLG1CQUVGRCxFQUFZNUMsYUFBYSxJQUUxQjJCLE9BQU9DLEdBQVFDLFFBQVFDLE1BQU1GLEtBRWhDdkIsRUFDR21CLGNBQ0FFLE1BQU1xQixJQUNMbEIsUUFBUW1CLElBQUlELEdBQ1pFLEVBQWlCVCxZQUFZTyxFQUFLaEwsS0FBTWdMLEVBQUtHLE9BQzdDRCxFQUFpQkUsVUFBVUosRUFBSzVLLE9BQU8sSUFFeEN3SixPQUFPQyxHQUFRQyxRQUFRQyxNQUFNRixLQUVoQyxNQUFNa0IsRUFBY0gsR0FDTCxJQUFJOUcsRUFBSyxDQUNwQjlELEtBQU00SyxFQUFTNUssS0FDZmdFLEtBQU00RyxFQUFTNUcsS0FDZkMsUUFBUzJHLEVBQVMzRyxRQUNsQjVELElBQUt1SyxFQUFTdkssSUFDZDZELGFBQWMsaUJBQ2RDLGlCQUFrQkEsRUFDbEJDLGdCQUFpQkEsRUFDakJDLGNBQWVBLElBRUx3QixVQUtScUYsRUFBbUIsSUVqRlYsTUFDYnhKLFdBQUFBLENBQVdxQyxHQUFnQyxJQUEvQixLQUFFL0QsRUFBSSxZQUFFRyxFQUFXLE9BQUVDLEdBQVEyRCxFQUN2Q25DLEtBQUswQyxNQUFRdEUsRUFDYjRCLEtBQUt5SixLQUFPbEwsRUFDWnlCLEtBQUswSixRQUFVbEwsQ0FDakIsQ0FFQXFKLFdBQUFBLEdBQ0UsTUFBTyxDQUNMekosS0FBTTRCLEtBQUswQyxNQUFNVixZQUNqQnpELFlBQWF5QixLQUFLeUosS0FBS3pILFlBRTNCLENBRUE2RyxXQUFBQSxDQUFZekssRUFBTUcsR0FDaEJ5QixLQUFLMEMsTUFBTVYsWUFBYzVELEVBQ3pCNEIsS0FBS3lKLEtBQUt6SCxZQUFjekQsQ0FDMUIsQ0FFQWlMLFNBQUFBLENBQVVHLEdBQ1IzSixLQUFLMEosUUFBUXZGLElBQU13RixDQUNyQixHRjREb0N4TCxHQUVoQ3lMLEVBQW1CLElBQUk3SSxFQUMzQiwwQkF1RUYsV0FDRW5CLEVBQVV1RSxJQUFNeEUsRUFBaUJrQyxNQUNqQytILEVBQWlCbkosT0FDbkIsSUF0RU1vSixFQUFtQixJQUFJOUksRUFDM0IsdUJBaURGLFNBQWlDK0ksR0FDL0JELEVBQWlCL0gsYUFBWSxHQUM3QjRFLEVBQ0dtQyxZQUFZaUIsRUFBVTFMLEtBQU0wTCxFQUFVUCxPQUN0Q3hCLE1BQU1xQixJQUNMRSxFQUFpQlQsWUFBWU8sRUFBS2hMLEtBQU1nTCxFQUFLRyxPQUM3Q1EsRUFBa0JqRixhQUNsQitFLEVBQWlCcEosT0FBTyxJQUV6QnVILE9BQU9DLElBQ05DLFFBQVFDLE1BQU1GLEVBQUksSUFFbkIrQixTQUFRLEtBQ1BWLEVBQWlCeEgsYUFBWSxFQUFNLEdBRXpDLElBNURNbUksRUFBbUIsSUFBSWxKLEVBQzNCLG1CQTBCRixTQUE2QnFJLEdBQzNCYSxFQUFpQm5JLGFBQVksR0FDN0I0RSxFQUNHMEIsUUFBUWdCLEdBQ1JyQixNQUFNcUIsSUFDTEgsWUFBWTFDLFFBQVE0QyxFQUFXLENBQUUvSyxLQUFNZ0wsRUFBS2hMLEtBQU1nRSxLQUFNZ0gsRUFBS2hILFFBQzdEOEgsRUFBaUJwRixhQUNqQm1GLEVBQWlCRSxRQUNqQkYsRUFBaUJ4SixPQUFPLElBRXpCdUgsT0FBT0MsSUFDTkMsUUFBUUMsTUFBTUYsRUFBSSxJQUVuQitCLFNBQVEsS0FDUEMsRUFBaUJuSSxhQUFZLEVBQU0sR0FFekMsSUF2Q01zSSxFQUFtQixJRy9GVixjQUE2QnZLLEVBQzFDQyxXQUFBQSxDQUFZQyxHQUNWa0IsTUFBTWxCLEdBQ05DLEtBQUtxSyxjQUFnQnJLLEtBQUtDLGNBQWMzQixjQUFjLGdCQUN0RDBCLEtBQUtzSyxtQkFDSHRLLEtBQUtDLGNBQWMzQixjQUFjLHFCQUNyQyxDQUVBOEIsSUFBQUEsQ0FBSStCLEdBQWlCLElBQWhCLEtBQUUvRCxFQUFJLEtBQUVnRSxHQUFNRCxFQUNqQm5DLEtBQUtxSyxjQUFjakcsSUFBTWhHLEVBQ3pCNEIsS0FBS3NLLG1CQUFtQnRJLFlBQWM1RCxFQUN0QzRCLEtBQUtxSyxjQUFjbEcsSUFBTS9CLEVBRXpCbkIsTUFBTWIsTUFDUixHSGlGMEMsZ0JBRXRDMkosRUFBb0IsSUFBSTFGLEVBQWMzRixFQUFvQlMsR0FDMUQrSyxFQUFtQixJQUFJN0YsRUFBYzNGLEVBQW9CVSxHQUN6RG1MLEVBQXVCLElBQUlsRyxFQUMvQjNGLEVBQ0FXLEdBYUYsU0FBU2tELEVBQWlCaUksR0FDeEJKLEVBQWlCaEssS0FBSyxDQUFFaEMsS0FBTW9NLEVBQUs5SCxNQUFPTixLQUFNb0ksRUFBSzdILE9BQ3ZELENBMENBLFNBQVNGLEVBQWMrSCxHQUNyQixNQUFNOUIsRUFBUzhCLEVBQUszRyxZQUNKMkcsRUFBSzFHLGlCQUduQjRDLEVBQ0drQyxXQUFXRixHQUNYWCxNQUFNMEMsSUFDTEQsRUFBS3pHLGNBQWMwRyxFQUFZM0csZUFBZSxJQUUvQ2tFLE9BQU9DLElBQ05DLFFBQVFDLE1BQU1GLEVBQUksSUFHdEJ2QixFQUNHaUMsUUFBUUQsR0FDUlgsTUFBTTBDLElBQ0xELEVBQUt6RyxjQUFjMEcsRUFBWTNHLGVBQWUsSUFFL0NrRSxPQUFPQyxJQUNOQyxRQUFRQyxNQUFNRixFQUFJLEdBRzFCLENBRUEsU0FBU3pGLElBQW1CLENBOUU1QjRILEVBQWlCdEosb0JBQ2pCK0ksRUFBaUIvSSxvQkFDakJtSixFQUFpQm5KLG9CQUNqQjhJLEVBQWlCOUksb0JBQ2pCaUosRUFBa0JsRSxtQkFDbEJxRSxFQUFpQnJFLG1CQUNqQjBFLEVBQXFCMUUsbUJBMkVyQm5HLEVBQWVXLGlCQUFpQixTQUFTLEtBQ3ZDVixFQUFpQmtDLE1BQVFqQyxFQUFVdUUsSUFDbkN5RixFQUFpQnhKLE1BQU0sSUFHekJkLEVBQWVlLGlCQUFpQixTQUFTLEtBQ3ZDLE1BQU0sS0FBRWpDLEVBQUksWUFBRUcsR0FBZ0IrSyxFQUFpQnpCLGNBQy9DckksRUFBaUJxQyxNQUFRekQsRUFDekJxQixFQUF3Qm9DLE1BQVF0RCxFQUNoQ3NMLEVBQWlCekosTUFBTSxJQUd6QmIsRUFBV2MsaUJBQWlCLFNBQVMsS0FDbkM0SixFQUFpQjdKLE1BQU0sRyIsInNvdXJjZXMiOlsid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXB3aXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXB3aXRoSW1hZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGNhcmREYXRhID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QveW9zZW1pdGUuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFrZS1sb3Vpc2UuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvYmFsZC1tb3VudGFpbnMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYXRlbWFyLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhZ28uanBnXCIsXHJcbiAgfSxcclxuXTtcclxuXHJcbi8vIGV4cG9ydCBjb25zdCBjYXJkU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9fY2FyZHNcIik7XHJcblxyXG5leHBvcnQgY29uc3Qgc2VsZWN0b3JzID0ge1xyXG4gIGNhcmRTZWN0aW9uOiBcIi5nYWxsZXJ5X19jYXJkc1wiLFxyXG4gIGluZm9TZWN0aW9uOiBcIi5wcm9maWxlXCIsXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcHJvZmlsZUluZm8gPSB7XHJcbiAgbmFtZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpLFxyXG4gIGRlc2NyaXB0aW9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpLFxyXG4gIGF2YXRhcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXItaW1hZ2VcIiksXHJcbiAgX2lkOiBcIjIwM2VmNWIyOWI4NDkxYzg5MTFjZjIyMFwiLFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25TZXR0aW5ncyA9IHtcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3NhdmVcIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19zYXZlX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxyXG59O1xyXG5cclxuY29uc3QgcHJvZmlsZUVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIpO1xyXG5jb25zdCBjYXJkQWRkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLW1vZGFsXCIpO1xyXG5jb25zdCBwcm9maWxlUGljdHVyZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXBpY3R1cmUtbW9kYWxcIik7XHJcblxyXG5leHBvcnQgY29uc3QgZWRpdEZvcm1FbCA9IHByb2ZpbGVFZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuZXhwb3J0IGNvbnN0IGFkZEZvcm1FbCA9IGNhcmRBZGRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG5leHBvcnQgY29uc3QgcGljdHVyZUZvcm1FbCA9IHByb2ZpbGVQaWN0dXJlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LWJ1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRBZGRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLWJ1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRBZGRGb3JtID0gY2FyZEFkZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1mb3JtXCIpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtbmFtZVwiKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbklucHV0ID1cclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLWRlc2NyaXB0aW9uXCIpO1xyXG5leHBvcnQgY29uc3QgY2FyZFRpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLXRpdGxlXCIpO1xyXG5leHBvcnQgY29uc3QgY2FyZExpbmtJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtbGlua1wiKTtcclxuZXhwb3J0IGNvbnN0IHByZXZpZXdJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtaW1hZ2VcIik7XHJcbmV4cG9ydCBjb25zdCBwcmV2aWV3SW1hZ2VUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtaW1hZ2UtdGl0bGVcIik7XHJcbmV4cG9ydCBjb25zdCBwaWN0dXJlRWRpdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1hdmF0YXItYnV0dG9uXCIpO1xyXG5leHBvcnQgY29uc3QgcGljdHVyZUxpbmtJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtcGljdHVyZVwiKTtcclxuZXhwb3J0IGNvbnN0IHBpY3R1cmVFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyLWltYWdlXCIpO1xyXG5leHBvcnQgY29uc3QgY2FyZExpa2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xyXG5leHBvcnQgY29uc3QgY2FyZERlbGV0ZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiKTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9jbG9zZUJ0biA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19leGl0XCIpO1xyXG4gICAgdGhpcy5fbW9kYWxCYWNrZ3JvdW5kID1cclxuICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2JhY2tncm91bmRcIik7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjYXBlQ2xvc2UpO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjYXBlQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY2FwZUNsb3NlID0gKGUpID0+IHtcclxuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9jbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9tb2RhbEJhY2tncm91bmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXB3aXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG4gICAgdGhpcy5fc3VibWl0QnRuID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3NhdmVcIik7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBpbnB1dHNBcnIgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIikpO1xyXG5cclxuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XHJcblxyXG4gICAgaW5wdXRzQXJyLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBpbnB1dFZhbHVlcztcclxuICB9XHJcblxyXG4gIHZpZXdMb2FkaW5nKGlzTG9hZGluZykge1xyXG4gICAgaWYgKGlzTG9hZGluZykge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdG4udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnRuLnRleHRDb250ZW50ID0gXCJTYXZlXCI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXB3aXRoRm9ybSBmcm9tIFwiLi9Qb3B1cHdpdGhGb3JtXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3Rvcih7XHJcbiAgICBuYW1lLFxyXG4gICAgbGluayxcclxuICAgIGlzTGlrZWQsXHJcbiAgICBfaWQsXHJcbiAgICBjYXJkU2VsZWN0b3IsXHJcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxyXG4gICAgaGFuZGxlRGVsZXRlQnRuLFxyXG4gICAgaGFuZGxlTGlrZUJ0bixcclxuICB9KSB7XHJcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBsaW5rO1xyXG4gICAgdGhpcy5faXNMaWtlZCA9IGlzTGlrZWQ7XHJcbiAgICB0aGlzLmlkID0gX2lkO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVCdG4gPSBoYW5kbGVEZWxldGVCdG47XHJcbiAgICB0aGlzLl9oYW5kbGVMaWtlQnRuID0gaGFuZGxlTGlrZUJ0bjtcclxuXHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICB0aGlzLl9jb25maXJtTW9kYWxFbCA9IG5ldyBQb3B1cHdpdGhGb3JtKFxyXG4gICAgICBcIiNjb25maXJtLW1vZGFsXCIsXHJcbiAgICAgIHRoaXMuX2hhbmRsZUNvbmZpcm1CdG5cclxuICAgICk7XHJcbiAgICB0aGlzLl9jb25maXJtRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29uZmlybS1tb2RhbC1mb3JtXCIpO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fY2FyZExpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUxpa2VCdG4odGhpcykpO1xyXG5cclxuICAgIHRoaXMuX2NhcmREZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZURlbGV0ZUJ0bih0aGlzKSk7XHJcblxyXG4gICAgdGhpcy5fY29uZmlybUZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9oYW5kbGVDb25maXJtQnRuKTtcclxuXHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHRoaXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVDYXJkKCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgfVxyXG5cclxuICBnZXRDYXJkSWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5pZDtcclxuICB9XHJcblxyXG4gIGdldExpa2VkU3RhdHVzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lzTGlrZWQ7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVJc0xpa2VkKGlzTGlrZWQpIHtcclxuICAgIHRoaXMuX2lzTGlrZWQgPSBpc0xpa2VkO1xyXG4gICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcclxuICB9XHJcblxyXG4gIF9yZW5kZXJMaWtlcygpIHtcclxuICAgIGlmICh0aGlzLl9pc0xpa2VkKSB7XHJcbiAgICAgIHRoaXMuX2NhcmRMaWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9jYXJkTGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0VmlldygpIHtcclxuICAgIHRoaXMuX2NhcmRJbWFnZUVsID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2NhcmRUaXRsZUVsID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcclxuICAgIHRoaXMuX2NhcmRMaWtlQnV0dG9uID1cclxuICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX2NhcmREZWxldGVCdG4gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5jYXJkX19kZWxldGUtYnV0dG9uXCJcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2NhcmRJbWFnZUVsLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9jYXJkVGl0bGVFbC50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcblxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3JlbmRlckxpa2VzKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gY29uZmlnLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGNvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gY29uZmlnLmVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgZGlzYWJsZUJ0bigpIHtcclxuICAgIHRoaXMuX3N1Ym1pdEJ0bi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fc3VibWl0QnRuLmRpc2FibGVkID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIF9lbmFibGVCdG4oKSB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdG4uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYCMke2lucHV0RWwuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGlucHV0RWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgZXJyb3JNZXNzYWdlRWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKSB7XHJcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAjJHtpbnB1dEVsLmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuICF0aGlzLl9pbnB1dEVscy5ldmVyeSgoaW5wdXRFbCkgPT4gaW5wdXRFbC52YWxpZGl0eS52YWxpZCk7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0RWxzKSkge1xyXG4gICAgICB0aGlzLmRpc2FibGVCdG4odGhpcy5fc3VibWl0QnRuLCB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fZW5hYmxlQnRuKHRoaXMuX3N1Ym1pdEJ0biwgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpIHtcclxuICAgIGlmICghaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5faW5wdXRFbHMgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXHJcbiAgICApO1xyXG4gICAgdGhpcy5fc3VibWl0QnRuID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuICAgICk7XHJcbiAgICB0aGlzLl9pbnB1dEVscy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XHJcbiAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5kaXNhYmxlQnRuKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcbn1cclxuIiwiLy8gSU1QT1JUUyAvL1xyXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5cclxuaW1wb3J0IHtcclxuICBjYXJkRGF0YSxcclxuICBzZWxlY3RvcnMsXHJcbiAgZWRpdEZvcm1FbCxcclxuICBhZGRGb3JtRWwsXHJcbiAgcGljdHVyZUZvcm1FbCxcclxuICB2YWxpZGF0aW9uU2V0dGluZ3MsXHJcbiAgcHJvZmlsZUVkaXRCdG4sXHJcbiAgY2FyZEFkZEJ0bixcclxuICBwcm9maWxlSW5mbyxcclxuICBjYXJkQWRkRm9ybSxcclxuICBwcm9maWxlTmFtZUlucHV0LFxyXG4gIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0LFxyXG4gIHBpY3R1cmVFZGl0QnRuLFxyXG4gIHBpY3R1cmVMaW5rSW5wdXQsXHJcbiAgcGljdHVyZUVsLFxyXG4gIGNhcmRMaWtlQnRuLFxyXG4gIGNhcmREZWxldGVCdG4sXHJcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50c1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3JcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvblwiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXB3aXRoSW1hZ2VcIjtcclxuaW1wb3J0IFBvcHVwd2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXB3aXRoRm9ybVwiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm9cIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGlcIjtcclxuXHJcbi8vIEFQSSAvL1xyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCI0MGFkZmU0ZS1jMGU0LTQwYTEtOTUwNi1iNTU1ZGI4OTNmNzJcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuYXBpXHJcbiAgLmdldEluaXRpYWxDYXJkcygpXHJcbiAgLnRoZW4oKGNhcmREYXRhKSA9PiB7XHJcbiAgICBjb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxyXG4gICAgICB7XHJcbiAgICAgICAgaXRlbXM6IGNhcmREYXRhLFxyXG4gICAgICAgIHJlbmRlcmVyOiAoY2FyZERhdGEpID0+IHtcclxuICAgICAgICAgIGNvbnN0IGluaXRpYWxDYXJkID0gY3JlYXRlQ2FyZChjYXJkRGF0YSk7XHJcbiAgICAgICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGluaXRpYWxDYXJkKTtcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICBcIi5nYWxsZXJ5X19jYXJkc1wiXHJcbiAgICApO1xyXG4gICAgY2FyZFNlY3Rpb24ucmVuZGVySXRlbXMoKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xyXG5cclxuYXBpXHJcbiAgLmdldFVzZXJJbmZvKClcclxuICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICBwcm9maWxlSW5mb0NsYXNzLnNldFVzZXJJbmZvKGRhdGEubmFtZSwgZGF0YS5hYm91dCk7XHJcbiAgICBwcm9maWxlSW5mb0NsYXNzLnNldEF2YXRhcihkYXRhLmF2YXRhcik7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuXHJcbmNvbnN0IGNyZWF0ZUNhcmQgPSAoY2FyZERhdGEpID0+IHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoe1xyXG4gICAgbmFtZTogY2FyZERhdGEubmFtZSxcclxuICAgIGxpbms6IGNhcmREYXRhLmxpbmssXHJcbiAgICBpc0xpa2VkOiBjYXJkRGF0YS5pc0xpa2VkLFxyXG4gICAgX2lkOiBjYXJkRGF0YS5faWQsXHJcbiAgICBjYXJkU2VsZWN0b3I6IFwiI2NhcmQtdGVtcGxhdGVcIixcclxuICAgIGhhbmRsZUltYWdlQ2xpY2s6IGhhbmRsZUltYWdlQ2xpY2ssXHJcbiAgICBoYW5kbGVEZWxldGVCdG46IGhhbmRsZURlbGV0ZUJ0bixcclxuICAgIGhhbmRsZUxpa2VCdG46IGhhbmRsZUxpa2VCdG4sXHJcbiAgfSk7XHJcbiAgcmV0dXJuIGNhcmQuZ2V0VmlldygpO1xyXG59O1xyXG5cclxuLy8gQ0xBU1NFUyAvL1xyXG5cclxuY29uc3QgcHJvZmlsZUluZm9DbGFzcyA9IG5ldyBVc2VySW5mbyhwcm9maWxlSW5mbyk7XHJcblxyXG5jb25zdCBwaWN0dXJlRm9ybUNsYXNzID0gbmV3IFBvcHVwd2l0aEZvcm0oXHJcbiAgXCIjcHJvZmlsZS1waWN0dXJlLW1vZGFsXCIsXHJcbiAgaGFuZGxlUGljdHVyZVN1Ym1pdFxyXG4pO1xyXG5cclxuY29uc3QgcHJvZmlsZUZvcm1DbGFzcyA9IG5ldyBQb3B1cHdpdGhGb3JtKFxyXG4gIFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiLFxyXG4gIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0XHJcbik7XHJcblxyXG5jb25zdCBjYXJkQWRkRm9ybUNsYXNzID0gbmV3IFBvcHVwd2l0aEZvcm0oXHJcbiAgXCIjYWRkLWNhcmQtbW9kYWxcIixcclxuICBoYW5kbGVDYXJkQWRkU3VibWl0XHJcbik7XHJcbmNvbnN0IGNhcmRQcmV2aWV3Q2xhc3MgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjaW1hZ2UtbW9kYWxcIik7XHJcblxyXG5jb25zdCBlZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25TZXR0aW5ncywgZWRpdEZvcm1FbCk7XHJcbmNvbnN0IGFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uU2V0dGluZ3MsIGFkZEZvcm1FbCk7XHJcbmNvbnN0IHBpY3R1cmVGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgdmFsaWRhdGlvblNldHRpbmdzLFxyXG4gIHBpY3R1cmVGb3JtRWxcclxuKTtcclxuXHJcbi8vIElOVElUSUFMSVpFIC8vXHJcbmNhcmRQcmV2aWV3Q2xhc3Muc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucHJvZmlsZUZvcm1DbGFzcy5zZXRFdmVudExpc3RlbmVycygpO1xyXG5jYXJkQWRkRm9ybUNsYXNzLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBpY3R1cmVGb3JtQ2xhc3Muc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5hZGRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxucGljdHVyZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy8gRlVOQ1RJT05TIC8vXHJcbmZ1bmN0aW9uIGhhbmRsZUltYWdlQ2xpY2soY2FyZCkge1xyXG4gIGNhcmRQcmV2aWV3Q2xhc3Mub3Blbih7IG5hbWU6IGNhcmQuX25hbWUsIGxpbms6IGNhcmQuX2xpbmsgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUNhcmRBZGRTdWJtaXQoZGF0YSkge1xyXG4gIGNhcmRBZGRGb3JtQ2xhc3Mudmlld0xvYWRpbmcodHJ1ZSk7XHJcbiAgYXBpXHJcbiAgICAuYWRkQ2FyZChkYXRhKVxyXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjcmVhdGVDYXJkKHsgbmFtZTogZGF0YS5uYW1lLCBsaW5rOiBkYXRhLmxpbmsgfSkpO1xyXG4gICAgICBhZGRGb3JtVmFsaWRhdG9yLmRpc2FibGVCdG4oKTtcclxuICAgICAgY2FyZEFkZEZvcm1DbGFzcy5yZXNldCgpO1xyXG4gICAgICBjYXJkQWRkRm9ybUNsYXNzLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgY2FyZEFkZEZvcm1DbGFzcy52aWV3TG9hZGluZyhmYWxzZSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQoaW5wdXREYXRhKSB7XHJcbiAgcHJvZmlsZUZvcm1DbGFzcy52aWV3TG9hZGluZyh0cnVlKTtcclxuICBhcGlcclxuICAgIC5zZXRVc2VySW5mbyhpbnB1dERhdGEubmFtZSwgaW5wdXREYXRhLmFib3V0KVxyXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgcHJvZmlsZUluZm9DbGFzcy5zZXRVc2VySW5mbyhkYXRhLm5hbWUsIGRhdGEuYWJvdXQpO1xyXG4gICAgICBlZGl0Rm9ybVZhbGlkYXRvci5kaXNhYmxlQnRuKCk7XHJcbiAgICAgIHByb2ZpbGVGb3JtQ2xhc3MuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBwcm9maWxlSW5mb0NsYXNzLnZpZXdMb2FkaW5nKGZhbHNlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVQaWN0dXJlU3VibWl0KCkge1xyXG4gIHBpY3R1cmVFbC5zcmMgPSBwaWN0dXJlTGlua0lucHV0LnZhbHVlO1xyXG4gIHBpY3R1cmVGb3JtQ2xhc3MuY2xvc2UoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlTGlrZUJ0bihjYXJkKSB7XHJcbiAgY29uc3QgY2FyZElkID0gY2FyZC5nZXRDYXJkSWQoKTtcclxuICBjb25zdCBpc0xpa2VkID0gY2FyZC5nZXRMaWtlZFN0YXR1cygpO1xyXG5cclxuICBpZiAoaXNMaWtlZCkge1xyXG4gICAgYXBpXHJcbiAgICAgIC5yZW1vdmVMaWtlKGNhcmRJZClcclxuICAgICAgLnRoZW4oKGlzTGlrZWRDYXJkKSA9PiB7XHJcbiAgICAgICAgY2FyZC5oYW5kbGVJc0xpa2VkKGlzTGlrZWRDYXJkLmdldExpa2VkU3RhdHVzKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBhcGlcclxuICAgICAgLmFkZExpa2UoY2FyZElkKVxyXG4gICAgICAudGhlbigoaXNMaWtlZENhcmQpID0+IHtcclxuICAgICAgICBjYXJkLmhhbmRsZUlzTGlrZWQoaXNMaWtlZENhcmQuZ2V0TGlrZWRTdGF0dXMpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVCdG4oKSB7fVxyXG5cclxuLy8gTElTVEVORVJTIC8vXHJcbnBpY3R1cmVFZGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgcGljdHVyZUxpbmtJbnB1dC52YWx1ZSA9IHBpY3R1cmVFbC5zcmM7XHJcbiAgcGljdHVyZUZvcm1DbGFzcy5vcGVuKCk7XHJcbn0pO1xyXG5cclxucHJvZmlsZUVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBjb25zdCB7IG5hbWUsIGRlc2NyaXB0aW9uIH0gPSBwcm9maWxlSW5mb0NsYXNzLmdldFVzZXJJbmZvKCk7XHJcbiAgcHJvZmlsZU5hbWVJbnB1dC52YWx1ZSA9IG5hbWU7XHJcbiAgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBkZXNjcmlwdGlvbjtcclxuICBwcm9maWxlRm9ybUNsYXNzLm9wZW4oKTtcclxufSk7XHJcblxyXG5jYXJkQWRkQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY2FyZEFkZEZvcm1DbGFzcy5vcGVuKCk7XHJcbn0pO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xyXG4gICAgdGhpcy5fYXV0aG9yaXphdGlvbiA9IGhlYWRlcnMuYXV0aG9yaXphdGlvbjtcclxuICAgIHRoaXMuX2NvbnRlbnRUeXBlID0gaGVhZGVycy5jb250ZW50VHlwZTtcclxuICB9XHJcblxyXG4gIC8vIEdFTkVSQUwgUFJPTUlTRVMgLy9cclxuICBfaGFuZGxlU2VydmVyUmVzcG9uc2UocmVzKSB7XHJcbiAgICByZXR1cm4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gIH1cclxuXHJcbiAgZ2V0QXBwSW5mbygpIHtcclxuICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5nZXRJbml0aWFsQ2FyZHMoKSwgdGhpcy5nZXRVc2VySW5mbygpXSk7XHJcbiAgfVxyXG5cclxuICAvLyBDQVJEUyAvL1xyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHsgaGVhZGVyczogdGhpcy5faGVhZGVycyB9KVxyXG4gICAgICAudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XHJcbiAgfVxyXG5cclxuICBhZGRDYXJkKHsgbmFtZSwgbGluayB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuICB9XHJcblxyXG4gIGFkZExpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzL2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgaXNMaWtlZDogdHJ1ZSxcclxuICAgICAgfSksXHJcbiAgICB9KVxyXG4gICAgICAudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVMaWtlKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlcy9gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGlzTGlrZWQ6IGZhbHNlLFxyXG4gICAgICB9KSxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuICB9XHJcblxyXG4gIC8vIFVTRVIgSU5GTyAvL1xyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8obmFtZSwgZGVzY3JpcHRpb24pIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICB9KSxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuICB9XHJcblxyXG4gIGNoYW5nZUF2YXRhcihhdmF0YXIpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyLFxyXG4gICAgICB9KSxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xyXG4gIH1cclxufVxyXG5cclxuLy8gc3VibWl0IC0tIG9ubG9hZCA9IGJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCJcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgbmFtZSwgZGVzY3JpcHRpb24sIGF2YXRhciB9KSB7XHJcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcclxuICAgIHRoaXMuX2pvYiA9IGRlc2NyaXB0aW9uO1xyXG4gICAgdGhpcy5fYXZhdGFyID0gYXZhdGFyO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5fam9iLnRleHRDb250ZW50LFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKG5hbWUsIGRlc2NyaXB0aW9uKSB7XHJcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHRoaXMuX2pvYi50ZXh0Q29udGVudCA9IGRlc2NyaXB0aW9uO1xyXG4gIH1cclxuXHJcbiAgc2V0QXZhdGFyKGF2YXRhclVybCkge1xyXG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IGF2YXRhclVybDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3ByZXZpZXdJbWFnZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLWltYWdlXCIpO1xyXG4gICAgdGhpcy5fcHJldmlld0ltYWdlVGl0bGUgPVxyXG4gICAgICB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2RhbC1pbWFnZS10aXRsZVwiKTtcclxuICB9XHJcblxyXG4gIG9wZW4oeyBuYW1lLCBsaW5rIH0pIHtcclxuICAgIHRoaXMuX3ByZXZpZXdJbWFnZS5hbHQgPSBuYW1lO1xyXG4gICAgdGhpcy5fcHJldmlld0ltYWdlVGl0bGUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fcHJldmlld0ltYWdlLnNyYyA9IGxpbms7XHJcblxyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsicHJvZmlsZUluZm8iLCJuYW1lIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZGVzY3JpcHRpb24iLCJhdmF0YXIiLCJfaWQiLCJ2YWxpZGF0aW9uU2V0dGluZ3MiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsInByb2ZpbGVFZGl0TW9kYWwiLCJjYXJkQWRkTW9kYWwiLCJwcm9maWxlUGljdHVyZU1vZGFsIiwiZWRpdEZvcm1FbCIsImFkZEZvcm1FbCIsInBpY3R1cmVGb3JtRWwiLCJwcm9maWxlRWRpdEJ0biIsImNhcmRBZGRCdG4iLCJwcm9maWxlTmFtZUlucHV0IiwicHJvZmlsZURlc2NyaXB0aW9uSW5wdXQiLCJwaWN0dXJlRWRpdEJ0biIsInBpY3R1cmVMaW5rSW5wdXQiLCJwaWN0dXJlRWwiLCJQb3B1cCIsImNvbnN0cnVjdG9yIiwicG9wdXBTZWxlY3RvciIsInRoaXMiLCJfcG9wdXBFbGVtZW50IiwiX2Nsb3NlQnRuIiwiX21vZGFsQmFja2dyb3VuZCIsIm9wZW4iLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUVzY2FwZUNsb3NlIiwiY2xhc3NMaXN0IiwiYWRkIiwiY2xvc2UiLCJyZW1vdmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZSIsImtleSIsInNldEV2ZW50TGlzdGVuZXJzIiwiUG9wdXB3aXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2Zvcm0iLCJfc3VibWl0QnRuIiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRzQXJyIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0VmFsdWVzIiwiZm9yRWFjaCIsImlucHV0IiwidmFsdWUiLCJ2aWV3TG9hZGluZyIsImlzTG9hZGluZyIsInRleHRDb250ZW50IiwicHJldmVudERlZmF1bHQiLCJDYXJkIiwiX3JlZiIsImxpbmsiLCJpc0xpa2VkIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZURlbGV0ZUJ0biIsImhhbmRsZUxpa2VCdG4iLCJfbmFtZSIsIl9saW5rIiwiX2lzTGlrZWQiLCJpZCIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9oYW5kbGVEZWxldGVCdG4iLCJfaGFuZGxlTGlrZUJ0biIsIl9jYXJkRWxlbWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfY29uZmlybU1vZGFsRWwiLCJfaGFuZGxlQ29uZmlybUJ0biIsIl9jb25maXJtRm9ybSIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9jYXJkTGlrZUJ1dHRvbiIsIl9jYXJkRGVsZXRlQnRuIiwiX2NhcmRJbWFnZUVsIiwicmVtb3ZlQ2FyZCIsImdldENhcmRJZCIsImdldExpa2VkU3RhdHVzIiwiaGFuZGxlSXNMaWtlZCIsIl9yZW5kZXJMaWtlcyIsImdldFZpZXciLCJfY2FyZFRpdGxlRWwiLCJzcmMiLCJhbHQiLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiZm9ybUVsZW1lbnQiLCJfaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiX2Zvcm1FbGVtZW50IiwiZGlzYWJsZUJ0biIsImRpc2FibGVkIiwiX2VuYWJsZUJ0biIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWwiLCJlcnJvck1lc3NhZ2VFbCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hpZGVJbnB1dEVycm9yIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9pbnB1dEVscyIsImV2ZXJ5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJlbmFibGVWYWxpZGF0aW9uIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJhZGRJdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJhcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJfYXV0aG9yaXphdGlvbiIsImF1dGhvcml6YXRpb24iLCJfY29udGVudFR5cGUiLCJjb250ZW50VHlwZSIsIl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJnZXRBcHBJbmZvIiwiYWxsIiwiZ2V0SW5pdGlhbENhcmRzIiwiZ2V0VXNlckluZm8iLCJmZXRjaCIsInRoZW4iLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImFkZENhcmQiLCJfcmVmMiIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZElkIiwiYWRkTGlrZSIsInJlbW92ZUxpa2UiLCJzZXRVc2VySW5mbyIsImNoYW5nZUF2YXRhciIsIl9jaGVja1Jlc3BvbnNlIiwiY2FyZERhdGEiLCJjYXJkU2VjdGlvbiIsImluaXRpYWxDYXJkIiwiY3JlYXRlQ2FyZCIsImRhdGEiLCJsb2ciLCJwcm9maWxlSW5mb0NsYXNzIiwiYWJvdXQiLCJzZXRBdmF0YXIiLCJfam9iIiwiX2F2YXRhciIsImF2YXRhclVybCIsInBpY3R1cmVGb3JtQ2xhc3MiLCJwcm9maWxlRm9ybUNsYXNzIiwiaW5wdXREYXRhIiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJmaW5hbGx5IiwiY2FyZEFkZEZvcm1DbGFzcyIsImFkZEZvcm1WYWxpZGF0b3IiLCJyZXNldCIsImNhcmRQcmV2aWV3Q2xhc3MiLCJfcHJldmlld0ltYWdlIiwiX3ByZXZpZXdJbWFnZVRpdGxlIiwicGljdHVyZUZvcm1WYWxpZGF0b3IiLCJjYXJkIiwiaXNMaWtlZENhcmQiXSwic291cmNlUm9vdCI6IiJ9